import{j as h,C as V,F as x,a as r,I as U,H as R,T as Y,S as ce,b as ae,c as de,d as ue,B as pe,e as me,f as Ie,g as W,h as P,i as fe,U as he,k as T,A as ye,l as ve,m as ge,n as Pe}from"./@chakra-ui-7aaa1343.js";import{r as v,R as Ae}from"./react-c64dbe91.js";import{c as Se}from"./react-dom-c53c899c.js";import{c as E,P as xe}from"./react-redux-1333c110.js";import{a as Q}from"./axios-aba6f0e0.js";import{u as j,a as X,b as Le,c as G}from"./react-router-e4f3dcd9.js";import{W as we,q as be}from"./react-helmet-async-50dd111f.js";import{m as Ee}from"./mersenne-twister-da726c1b.js";import{T as Te,a as Ce,B as De,b as Ne,c as Re,d as ke,e as J}from"./react-icons-a2d551ba.js";import{R as Oe}from"./react-player-3e647563.js";import{B as $e}from"./react-router-dom-9256e78e.js";import{a as ze,b as Ye,l as Ue}from"./redux-f29a9c13.js";import{c as je}from"./redux-devtools-extension-a2dfdb94.js";import{l as Fe}from"./lodash-a0493938.js";import{p as Me,a as _e,d as He,P as Ge}from"./redux-persist-69f87f47.js";import{t as Ve}from"./redux-thunk-ef899f4c.js";import"./hoist-non-react-statics-dd442a32.js";import"./react-is-d0c61868.js";import"./lodash.mergewith-05537c4f.js";import"./copy-to-clipboard-87174ba5.js";import"./@emotion-900dbcce.js";import"./@babel-5b6df6e6.js";import"./stylis-581c9ed0.js";import"./color2k-69f3754e.js";import"./framer-motion-e1e0f137.js";import"./react-fast-compare-b6572a53.js";import"./scheduler-04ce0582.js";import"./use-sync-external-store-ba804a53.js";import"./history-6218fa6a.js";import"./prop-types-4d501b15.js";import"./invariant-c4c304c3.js";import"./shallowequal-6a8ebf1c.js";import"./deepmerge-89e33937.js";import"./memoize-one-b182cc03.js";import"./load-script-d550e3b0.js";(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const n of document.querySelectorAll('link[rel="modulepreload"]'))a(n);new MutationObserver(n=>{for(const i of n)if(i.type==="childList")for(const m of i.addedNodes)m.tagName==="LINK"&&m.rel==="modulepreload"&&a(m)}).observe(document,{childList:!0,subtree:!0});function o(n){const i={};return n.integrity&&(i.integrity=n.integrity),n.referrerPolicy&&(i.referrerPolicy=n.referrerPolicy),n.crossOrigin==="use-credentials"?i.credentials="include":n.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function a(n){if(n.ep)return;n.ep=!0;const i=o(n);fetch(n.href,i)}})();const B="playlistDetails/addToPlaylistDetails",Z="playlistDetails/deleteFromPlaylistDetails",K="playlistDetails/Etag",ee=async(e,t)=>{let o=[];const a="https://www.googleapis.com/youtube/v3",n="AIzaSyA8JtiLpC8D9nhMK44CRTciv64H1MNFNDw";let i="";try{let l="";do{const g=await Q.get(`${a}/playlistItems`,{headers:{"If-None-Match":t},params:{part:"snippet",maxResults:50,key:n,pageToken:l,playlistId:e,fields:"etag,nextPageToken,items(snippet(title,videoOwnerChannelTitle,position, thumbnails(default(url)), resourceId(videoId))),pageInfo"}});o.push(...g.data.items),i===""&&(i=g.data.etag),g.data.nextPageToken?l=g.data.nextPageToken:l=""}while(l)}catch(l){return l.response.status===304||l.response.status===404?l.response.status:l.response.status===500?(console.log("Server Error"),404):(console.log("Error ",l.response),404)}return{playlistEtag:i,responseArrToAdd:o,currentSong:o[0].snippet.resourceId.videoId,nextSong:o[1].snippet.resourceId.videoId}},F="playlistSongs/addSongsByPlaylistID",te="playlistSongs/removePlaylistSongsById",O="player/isPlaying",q="player/isLoopActive",M="player/isShuffleActive",$="player/previousSong",C="player/currentSong",D="player/nextSong",_="player/setcurrentActivePlaylistId",re=async(e,t)=>{const o="https://www.googleapis.com/youtube/v3",a="AIzaSyA8JtiLpC8D9nhMK44CRTciv64H1MNFNDw";let n={};try{const i=await Q.get(`${o}/playlists`,{params:{part:"snippet",id:e,key:a}});n={playlistName:i.data.items[0].snippet.title,playlistId:i.data.items[0].id,PlaylistImage:i.data.items[0].snippet.thumbnails.medium.url,playlistEtag:t}}catch(i){console.log("Error fetching data: ",i)}return n},We=v.memo(({playlistDetails:e,addToPlaylistDetails:t,nextSong:o,playlistSongsById:a,player:n,isPlaying:i,deleteFromPlaylistDetails:m,addSongsByPlaylistID:l,setcurrentActivePlaylistId:g,removePlaylistSongsById:b,currentSong:S,modifyEtagInPlaylistDetailsById:I})=>{const s=j(),c="/playlistShuffle",u=e.map(d=>h(V,{w:"100%",mt:2,display:"flex",flexDirection:"row",bg:"red.500",borderRadius:"lg",cursor:"pointer",m:"16 0",className:"playlistUsedList",children:[h(x,{className:"usedContentTextandImage",onClick:()=>p(d.playlistId),children:[r(U,{borderRadius:"5% 0 0 5%",alt:d.playlistName,boxSize:["75px","85px","120px"],objectFit:"cover",className:"imgUsedPlaylist",src:d.PlaylistImage}),r(R,{mt:"1.5",size:["md","md","lg"],noOfLines:"2",className:"usedPlaylistName",children:r(Y,{color:"whiteAlpha.900",noOfLines:[2,2],children:d.playlistName})})]}),r(ce,{}),r(ae,{ml:["5px","5px","15px","15px"],colorScheme:"whiteAlpha",color:"white",className:"playlistUsedButton",onClick:()=>y(d.playlistId)})]},d.playlistId)),p=async d=>{await g(d);const L=e.filter(A=>A.playlistId===d),f=await ee(d,L[0].playlistEtag);if(f===304)await S(a[L[0].playlistId][0].snippet.resourceId.videoId),await o(a[L[0].playlistId][1].snippet.resourceId.videoId),i(!0);else{const A={id:d,songs:f.responseArrToAdd},k=await re(d,f.playlistEtag),w={playlistId:d,etag:f.playlistEtag};await t(k),await I(w),l(A),S(f.currentSong),o(f.nextSong)}s(`${c}/playlist/${d}`)},y=d=>{b(d),m(d)};return r(x,{flexDirection:"column",className:"playlistUsedContainer",children:e.length?u:null})}),Be=e=>({playlistSongsById:e.playlistSongsById,songs:e.songs,player:e.player,playlistDetails:e.playlistDetails}),Ke=e=>({currentSong:t=>e({type:C,payload:t}),nextSong:t=>e({type:D,payload:t}),addToPlaylistDetails:t=>e({type:B,payload:t}),deleteFromPlaylistDetails:t=>e({type:Z,payload:t}),addSongsByPlaylistID:t=>e({type:F,payload:t}),setcurrentActivePlaylistId:t=>e({type:_,payload:t}),removePlaylistSongsById:t=>e({type:te,payload:t}),modifyEtagInPlaylistDetailsById:t=>e({type:K,payload:t}),isPlaying:t=>e({type:O,payload:t})}),qe=E(Be,Ke)(We),Je=({playlistDetails:e,currentSong:t,nextSong:o,addToPlaylistDetails:a,addSongsByPlaylistID:n,playlistSongsById:i,setcurrentActivePlaylistId:m,player:l,modifyEtagInPlaylistDetailsById:g})=>{const[b,S]=v.useState(""),[I,s]=v.useState(!1),[c,u]=v.useState(!1),p=j(),y="/playlistShuffle",d=async f=>{f.preventDefault(),s(!0);const A=/PL(.*)/,w="PL"+b.match(A)[1],z=e.filter(H=>H.playlistId===w);m(w);const ne=z.length>0?z[0].playlistEtag:"",N=await ee(w,ne);if(N===304)t(i[z[0].playlistId][0].snippet.resourceId.videoId),o(i[z[0].playlistId][1].snippet.resourceId.videoId),s(!1),p(`${y}/playlist/${w}`);else if(N===404)u(!0),s(!1);else{const H=await re(w,N.playlistEtag),oe={playlistId:w,etag:N.playlistEtag};await a(H);const le={id:w,songs:N.responseArrToAdd};await g(oe),s(!1),await n(le),await t(N.currentSong),await o(N.nextSong),p(`${y}/playlist/${w}`)}},L=f=>{f.preventDefault(),S(f.target.value)};return r(x,{mt:"20",className:"searchContainer",children:r("form",{style:{width:"100%"},onSubmit:f=>d(f),children:h(de,{isInvalid:c,children:[h(x,{children:[r(ue,{errorBorderColor:"red.500",variant:"outline",size:"lg",className:"inputSearch",pattern:"^(?=.*.{24,})(?=.*PL).*",type:"text",required:!0,onChange:f=>L(f),value:b}),r(pe,{isLoading:!!I,colorScheme:"red",ml:"1.5",size:"lg",className:"submitBtn",type:"submit",children:"Play"})]}),c?h(me,{children:["THE ID OR URL IS NOT A VALID ONE"," "]}):r(Ie,{children:"ID or playlist URL"})]})})})},Qe=e=>({playlistSongsById:e.playlistSongsById,playlistDetails:e.playlistDetails,player:e.player}),Xe=e=>({currentSong:t=>e({type:C,payload:t}),nextSong:t=>e({type:D,payload:t}),addToPlaylistDetails:t=>e({type:B,payload:t}),addSongsByPlaylistID:t=>e({type:F,payload:t}),setcurrentActivePlaylistId:t=>e({type:_,payload:t}),modifyEtagInPlaylistDetailsById:t=>e({type:K,payload:t})}),Ze=E(Qe,Xe)(Je),se=({title:e})=>r(we,{children:r("title",{children:e})}),et=()=>{const e="/playlistShuffle",t=j();return h(W,{h:"calc(100vh)",w:"100%",maxWidth:"2266px",bg:"whiteAlpha.900",children:[r(se,{title:"Paylist Shuffle | randomize your playlist"}),h(P,{w:"85%",m:"0 auto",children:[h(R,{onClick:()=>t(e),cursor:"pointer",color:"black",className:"title",children:[" ",r(fe,{children:"Playlist Shuffle"})]}),r(P,{children:r(Ze,{})}),r(P,{children:r(qe,{})})]})]})},tt=({player:e,previousSong:t,currentSong:o,nextSong:a,playlistSongsById:n,addSongsByPlaylistID:i})=>{var S,I;const m=(S=n[e.currentActivePlaylistId])==null?void 0:S.reduce((s,c)=>(s[c.snippet.resourceId.videoId]=Ae.createRef(),s),{});v.useEffect(()=>{console.log("updated al ottt")}),v.useEffect(()=>{m[e.currentSong].current.scrollIntoView({block:"start"})},[e.currentSong]),v.useEffect(()=>{l()},[e.isShuffleActive]);const l=()=>{if(e.isShuffleActive===!0){const s=new Ee;let c=[];c.push(...n[e.currentActivePlaylistId]);for(let p=c.length-1;p>0;p--){const y=Math.floor(s.random()*(p+1));[c[p],c[y]]=[c[y],c[p]]}const u={id:e.currentActivePlaylistId,songs:c};i(u),o(c[0].snippet.resourceId.videoId),a(c[1].snippet.resourceId.videoId)}else{let s=[];s.push(...n[e.currentActivePlaylistId]),s.sort(function(u,p){return u.snippet.position-p.snippet.position});const c={id:e.currentActivePlaylistId,songs:s};i(c),o(s[0].snippet.resourceId.videoId),a(s[1].snippet.resourceId.videoId)}},g=s=>{var u,p,y;const c=n[e.currentActivePlaylistId].findIndex(d=>{var L;return((L=d.snippet)==null?void 0:L.resourceId.videoId)===s});t((u=n[e.currentActivePlaylistId][c-1])==null?void 0:u.snippet.resourceId.videoId),o((p=n[e.currentActivePlaylistId][c])==null?void 0:p.snippet.resourceId.videoId),a((y=n[e.currentActivePlaylistId][c+1])==null?void 0:y.snippet.resourceId.videoId)},b=(I=n[e.currentActivePlaylistId])==null?void 0:I.map((s,c)=>{var u;return s.snippet.title!=="Private video"&&s.snippet.title!=="Deleted video"?r(V,{borderRadius:"lg",w:["95%","90%"],cursor:"pointer",title:s.snippet.title,m:"2",ref:m[s.snippet.resourceId.videoId],id:`${s.snippet.resourceId.videoId}`,onClick:()=>g(s.snippet.resourceId.videoId),children:r(V,{borderRadius:"lg",bg:e.currentSong===s.snippet.resourceId.videoId?"var(--chakra-colors-red-600)":null,color:e.currentSong===s.snippet.resourceId.videoId?"white":"",_hover:{background:"var(--chakra-colors-red-600)",color:"white"},children:h(x,{children:[r(U,{borderRadius:"lg",src:(u=s.snippet.thumbnails.default)==null?void 0:u.url,alt:"song image",boxSize:["40px","40px","65px"],objectFit:"none"}),h(P,{ml:"1",className:"cardText",children:[r(R,{size:["xs","xs","sm","md"],children:r(Y,{noOfLines:[1,1,2,2],children:s.snippet.title})}),h(Y,{noOfLines:"1",className:"cardArtist",children:[" ",s.snippet.videoOwnerChannelTitle]})]})]})})},s.snippet.resourceId.videoId+"index"+c):null});return r(P,{passive:"true",className:"cardContainer",mt:["0","4","0","0","0"],overflowY:"scroll",h:["37vh","37vh","100%","95%","100%"],children:r(he,{h:"100%",pt:"1",w:["95%","95%","95%",null,"100%"],margin:["0 auto","0 auto","0 auto",null],className:"ulListCards",children:b})})},rt=e=>({previousSong:t=>e({type:$,payload:t}),currentSong:t=>e({type:C,payload:t}),nextSong:t=>e({type:D,payload:t}),addSongsByPlaylistID:t=>e({type:F,payload:t})}),st=e=>({playlistSongsById:e.playlistSongsById,songs:e.songs,player:e.player}),it=E(st,rt)(tt),nt=v.memo(({player:e,isPlaying:t,isLoopActive:o,isShuffleActive:a,previousSong:n,currentSong:i,nextSong:m,playlistSongsById:l})=>{const g=()=>{var s,c,u;const I=l[e.currentActivePlaylistId].findIndex(p=>p.snippet.resourceId.videoId===e.currentSong);I!==0&&(n((s=l[e.currentActivePlaylistId][I-2])==null?void 0:s.snippet.resourceId.videoId),i((c=l[e.currentActivePlaylistId][I-1])==null?void 0:c.snippet.resourceId.videoId),m((u=l[e.currentActivePlaylistId][I])==null?void 0:u.snippet.resourceId.videoId))},b=()=>{var s,c,u;const I=l[e.currentActivePlaylistId].findIndex(p=>{var y;return((y=p.snippet)==null?void 0:y.resourceId.videoId)===e.currentSong});I<l[e.currentActivePlaylistId].length-1?(n((s=l[e.currentActivePlaylistId][I])==null?void 0:s.snippet.resourceId.videoId),i((c=l[e.currentActivePlaylistId][I+1])==null?void 0:c.snippet.resourceId.videoId),m((u=l[e.currentActivePlaylistId][I+2])==null?void 0:u.snippet.resourceId.videoId)):I===l[e.currentActivePlaylistId].length-1&&console.log("No more songs left")},S=()=>{e.isShuffleActive===!1?a(!0):a(!1)};return h(x,{flexDirection:"row",alignItems:"baseline",className:"mediaButtons ",maxW:"100%",children:[e.isLoopActive===!0?r(P,{passive:"true",onClick:()=>o(!1),children:r(T,{colorScheme:"red",size:"2rem",ml:"1.5",mr:"1.5",icon:r(Te,{size:45})})}):r(P,{children:r(T,{colorScheme:"red",size:"2rem",ml:"1.5",passive:"true",onClick:()=>o(!0),mr:"1.5",icon:r(Ce,{size:45})})}),r(P,{children:r(T,{passive:"true",onClick:g,colorScheme:"red",size:"1.5rem",ml:"1.5",mr:"1.5",icon:r(De,{size:45})})}),e.isPlaying===!0?r(P,{children:r(T,{passive:"true",colorScheme:"red",size:"2rem",ml:"1.5",mr:"1.5",onClick:()=>t(!1),icon:r(Ne,{size:55})})}):r(P,{children:r(T,{colorScheme:"red",size:"2rem",ml:"1.5",passive:"true",mr:"1.5",onClick:()=>t(!0),icon:r(Re,{size:55})})}),r(P,{children:r(T,{onClick:b,colorScheme:"red",size:"1.5rem",passive:"true",ml:"1.5",mr:"1.5",icon:r(ke,{size:45})})}),e.isShuffleActive?r(P,{children:r(T,{onClick:S,bg:"red.800",color:"white",size:"1.5rem",passive:"true",ml:"1.5",mr:"1.5",_hover:{background:"var(--chakra-colors-red-600)",color:"white"},icon:r(J,{size:45})})}):r(P,{children:r(T,{onClick:S,colorScheme:"red",size:"1.5rem",passive:"true",ml:"1.5",mr:"1.5",icon:r(J,{size:45})})})]})}),ot=e=>({player:e.player,songs:e.songs,playlistSongsById:e.playlistSongsById}),lt=e=>({isPlaying:t=>e({type:O,payload:t}),isLoopActive:t=>e({type:q,payload:t}),isShuffleActive:t=>e({type:M,payload:t}),previousSong:t=>e({type:$,payload:t}),currentSong:t=>e({type:C,payload:t}),nextSong:t=>e({type:D,payload:t})}),ct=E(ot,lt)(nt),at=v.memo(({player:e,playlistSongsById:t})=>{var a,n,i;const o=(a=t[e.currentActivePlaylistId])==null?void 0:a.findIndex(m=>m.snippet.resourceId.videoId===e.currentSong);return h(x,{mt:"1",alignItems:"center",children:[r(U,{boxSize:["35px","35px","45px","75px, 100px"],objectFit:"none",borderRadius:"lg",alt:(n=t[e.currentActivePlaylistId][o])==null?void 0:n.snippet.title,src:(i=t[e.currentActivePlaylistId][o])==null?void 0:i.snippet.thumbnails.default.url}),r(x,{children:r(R,{ml:"1",textAlign:"center",width:"100%",color:"var(--chakra-colors-red-600)",className:"songTitle",size:["sm","sm","md","md","md","md"],maxW:["60","60","60","60","60"],children:r(Y,{noOfLines:["1","1","2","2"],children:t[e.currentActivePlaylistId][o].snippet.title})})})]})}),dt=e=>({playlistSongsById:e.playlistSongsById,songs:e.songs,player:e.player}),ut=E(dt,null)(at),pt=({isPlaying:e,previousSong:t,currentSong:o,nextSong:a,isShuffleActive:n,setcurrentActivePlaylistId:i})=>{const m="/playlistShuffle",l=j();return r(x,{className:"navbar",children:h(R,{cursor:"pointer",onClick:()=>(e(!0),t(""),o(""),a(""),n(!1),i(""),l(m)),m:"0 auto",color:"black",children:["Playlist Shuffle"," "]})})},mt=e=>({isPlaying:t=>e({type:O,payload:t}),previousSong:t=>e({type:$,payload:t}),currentSong:t=>e({type:C,payload:t}),nextSong:t=>e({type:D,payload:t}),isShuffleActive:t=>e({type:M,payload:t}),setcurrentActivePlaylistId:t=>e({type:_,payload:t})}),It=E(null,mt)(pt),ft=v.memo(function({playlistDetails:e}){const{id:t}=X(),[o,a]=v.useState({name:"",image:""}),n=v.useMemo(()=>e==null?void 0:e.find(i=>i.playlistId===t),[e,t]);return v.useEffect(()=>{console.log("re render"),a({name:n==null?void 0:n.playlistName,image:n==null?void 0:n.PlaylistImage})},[n]),h(x,{alignItems:"center",children:[r(U,{boxSize:["35px","40px","45px","60px"],objectFit:"cover",borderRadius:"lg",src:o.image,alt:o.name}),r(R,{ml:"1",noOfLines:["1","1","2","2"],size:["sm","sm","md","md"],children:o.name})]})}),ht=e=>({songs:e.songs,player:e.player,playlistDetails:e.playlistDetails}),yt=E(ht,null)(v.memo(ft)),vt=({player:e,isPlaying:t,previousSong:o,currentSong:a,nextSong:n,playlistSongsById:i})=>{v.useEffect(()=>{var s;i[e.currentActivePlaylistId]&&a((s=i[e.currentActivePlaylistId][0])==null?void 0:s.snippet.resourceId.videoId)},[]);const m=()=>{var c,u,p,y,d;const s=i[e.currentActivePlaylistId].findIndex(L=>{var f;return((f=L.snippet)==null?void 0:f.resourceId.videoId)===e.currentSong});s<i[e.currentActivePlaylistId].length-1?(o((c=i[e.currentActivePlaylistId][s])==null?void 0:c.snippet.resourceId.videoId),a((u=i[e.currentActivePlaylistId][s+1])==null?void 0:u.snippet.resourceId.videoId),n((p=i[e.currentActivePlaylistId][s+2])==null?void 0:p.snippet.resourceId.videoId)):(o((y=i[e.currentActivePlaylistId][s])==null?void 0:y.snippet.resourceId.videoId),a((d=i[e.currentActivePlaylistId][s+1])==null?void 0:d.snippet.resourceId.videoId),n(""))},l=()=>{i[e.currentActivePlaylistId].findIndex(s=>s.snippet.resourceId.videoId===e.currentSong)===i[e.currentActivePlaylistId].length-1?(console.log("Playlist Ended"),t(!1)):m()},g=()=>{i[e.currentActivePlaylistId].findIndex(s=>s.snippet.resourceId.videoId===e.currentSong)===i[e.currentActivePlaylistId].length-1?(console.log("Playlist Ended"),t(!1)):m()},b=()=>{t(!0)},S=()=>{t(!1)},I=()=>{t(!0)};return r(ye,{w:"100%",h:["100%"],passive:"true",_before:{pb:"0"},ratio:1,className:"player",children:r(Oe,{passive:"true",onError:()=>g(),onPlay:()=>b(),onPause:()=>S(),onReady:()=>I(),onEnded:()=>l(),width:"100%",height:"100%",controls:!0,loop:e.isLoopActive,playing:e.isPlaying,url:`https://www.youtube.com/watch?v=${e.currentSong}`})})},gt=e=>({isPlaying:t=>e({type:O,payload:t}),previousSong:t=>e({type:$,payload:t}),currentSong:t=>e({type:C,payload:t}),nextSong:t=>e({type:D,payload:t})}),Pt=e=>({songs:e.songs,player:e.player,playlistSongsById:e.playlistSongsById}),At=E(Pt,gt)(vt),St=({isPlaying:e,player:t,isLoopActive:o,isShuffleActive:a,currentSong:n,previousSong:i,nextSong:m,playlistSongsById:l})=>{const[g,b]=v.useState("");X();const S=v.useRef(null);return v.useEffect(()=>{const I=l[t.currentActivePlaylistId].findIndex(s=>s.snippet.resourceId.videoId===t.currentSong);b(l[t.currentActivePlaylistId][I].snippet.title)},[t.currentSong]),v.useEffect(()=>{const I=c=>{var u,p,y,d,L,f;switch(c.code){case"Space":{e(t.isPlaying!==!0);break}case"KeyR":{o(t.isLoopActive!==!0);break}case"KeyS":{a(t.isShuffleActive!==!0);break}case"ArrowLeft":{const A=l[t.currentActivePlaylistId].findIndex(k=>k.snippet.resourceId.videoId===t.currentSong);A!==0&&(i((u=l[t.currentActivePlaylistId][A-2])==null?void 0:u.snippet.resourceId.videoId),m((p=l[t.currentActivePlaylistId][A])==null?void 0:p.snippet.resourceId.videoId),n((y=l[t.currentActivePlaylistId][A-1])==null?void 0:y.snippet.resourceId.videoId));break}case"ArrowRight":{const A=l[t.currentActivePlaylistId].findIndex(k=>{var w;return((w=k.snippet)==null?void 0:w.resourceId.videoId)===t.currentSong});A<l[t.currentActivePlaylistId].length-1?(i((d=l[t.currentActivePlaylistId][A])==null?void 0:d.snippet.resourceId.videoId),n((L=l[t.currentActivePlaylistId][A+1])==null?void 0:L.snippet.resourceId.videoId),m((f=l[t.currentActivePlaylistId][A+2])==null?void 0:f.snippet.resourceId.videoId)):A===l[t.currentActivePlaylistId].length-1&&console.log("No more songs left");break}}},s=S.current;return s.addEventListener("keydown",I,{passive:!0}),()=>{s.removeEventListener("keydown",I,{passive:!0})}},[t]),h(W,{ref:S,passive:"true",tabIndex:0,className:"container",w:"100%",h:"100vh",maxWidth:"1866px",children:[r(se,{title:`${g} - Playlist Shuffle`}),r(It,{}),r(x,{justify:["center","center","left","left"],mb:"1.5",children:r(yt,{})}),h(P,{className:"box",w:["98%","98%","98%","95%"],m:"0 auto",display:"flex",justifyContent:"center",children:[h(x,{className:"mainContent",h:["100%","100%","65vh","65vh","65vh","65vh"],maxH:"1900px",flexDirection:["column","column","row"],alignItems:["center","center","center","inherit"],w:"100%",children:[r(P,{w:["100%","100%","40%","40%"],h:["30vh","30vh","100%","100%"],maxH:"1900px",children:r(At,{})}),r(P,{mt:["10px","10px","0","0"],w:["100%","100%","100%","50%"],h:["100%","100%","100%","100%"],maxH:"1900px",children:r(it,{})})]}),h(P,{className:"bottomMedia",minW:"100%",position:"fixed",bottom:"0",h:["18%","14%"],left:"0",bg:"red.100",display:"flex",pt:["1","1","5"],pb:[null,null,"2"],flexDirection:["column","column","row","row"],justifyContent:["center"],children:[r(x,{justify:"center",children:r(ut,{})}),r(x,{justify:"center",alignItems:"center",className:"mediaButtonsContainer",children:r(ct,{})})]})]})]})},xt=e=>({isPlaying:t=>e({type:O,payload:t}),isLoopActive:t=>e({type:q,payload:t}),isShuffleActive:t=>e({type:M,payload:t}),previousSong:t=>e({type:$,payload:t}),currentSong:t=>e({type:C,payload:t}),nextSong:t=>e({type:D,payload:t})}),Lt=e=>({songs:e.songs,player:e.player,playlistSongsById:e.playlistSongsById}),wt=E(Lt,xt)(St);function bt(){const e="/playlistShuffle";return r(ve,{children:h(Le,{children:[r(G,{exact:!0,path:`${e}`,element:r(et,{})}),r(G,{exact:!0,path:`${e}/playlist/:id`,element:r(wt,{})}),r(G,{path:`${e}/*`,element:r(W,{children:r(x,{justify:"center",children:r(R,{children:"Error 404"})})})})]})})}const Et={isPlaying:!0,previousSong:"",currentSong:"",nextSong:"",isShuffleActive:!1,isLoopActive:!1,currentActivePlaylistId:""};function Tt(e=Et,t){switch(t.type){case O:return{...e,isPlaying:t.payload};case q:return{...e,isLoopActive:t.payload};case M:return{...e,isShuffleActive:t.payload};case $:return{...e,previousSong:t.payload};case C:return{...e,currentSong:t.payload};case D:return{...e,nextSong:t.payload};case _:return{...e,currentActivePlaylistId:t.payload};default:return e}}const Ct=[];function Dt(e=Ct,t){switch(t.type){case"playlistDetails/add":return t.payload;case B:return e.filter(o=>o.playlistId===t.payload.playlistId).length?e:[...e,t.payload];case Z:return e.filter(o=>o.playlistId!==t.payload);case K:return e.map(o=>o.playlistId===t.payload.playlistId?{...o,playlistEtag:t.payload.etag}:o);default:return e}}const Nt={};function Rt(e=Nt,t){switch(t.type){case F:return{...e,[t.payload.id]:t.payload.songs};case te:{const o=Fe.cloneDeep(e);return delete o[t.payload],o}default:return e}}const kt="HASPLAYLISTLOADED/HASPLAYLISTLOADED",Ot={hasPlaylistLoaded:!1};function $t(e=Ot,t){switch(t.type){case kt:return t.payload;default:return e}}const zt=ze({playlistSongsById:Rt,player:Tt,playlistDetails:Dt,hasplaylistloaded:$t}),Yt={key:"root",storage:He},Ut=je(Ye(Ve)),jt=Me(Yt,zt),ie=Ue(jt,void 0,Ut),Ft=_e(ie),Mt={initialColorMode:"light",useSystemColorMode:!1};ge({config:Mt});Se.createRoot(document.getElementById("root")).render(r(be,{children:r($e,{children:r(Pe,{children:r(xe,{store:ie,children:r(Ge,{loading:null,persistor:Ft,children:r(bt,{})})})})})}));
