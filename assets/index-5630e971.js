import{j as I,C as V,F as S,a as r,I as U,H as R,T as Y,S as ae,b as ce,c as de,d as ue,B as pe,e as me,f as Ie,g as B,h as v,i as fe,U as he,k as D,A as ye,l as ve,m as Pe,n as ge}from"./@chakra-ui-7aaa1343.js";import{r as y,R as Ae}from"./react-c64dbe91.js";import{c as Se}from"./react-dom-c53c899c.js";import{c as E,P as xe}from"./react-redux-1333c110.js";import{a as Q}from"./axios-aba6f0e0.js";import{u as j,a as X,b as Le,c as G}from"./react-router-e4f3dcd9.js";import{W as we,q as be}from"./react-helmet-async-50dd111f.js";import{m as Ee}from"./mersenne-twister-da726c1b.js";import{T as Te,a as De,B as Ce,b as Ne,c as Re,d as ke,e as J}from"./react-icons-a2d551ba.js";import{R as Oe}from"./react-player-3e647563.js";import{B as $e}from"./react-router-dom-9256e78e.js";import{a as ze,b as Ye,l as Ue}from"./redux-f29a9c13.js";import{c as je}from"./redux-devtools-extension-a2dfdb94.js";import{l as Fe}from"./lodash-a0493938.js";import{p as Me,a as _e,d as He,P as Ge}from"./redux-persist-69f87f47.js";import{t as Ve}from"./redux-thunk-ef899f4c.js";import"./hoist-non-react-statics-dd442a32.js";import"./react-is-d0c61868.js";import"./lodash.mergewith-05537c4f.js";import"./copy-to-clipboard-87174ba5.js";import"./@emotion-900dbcce.js";import"./@babel-5b6df6e6.js";import"./stylis-581c9ed0.js";import"./color2k-69f3754e.js";import"./framer-motion-e1e0f137.js";import"./react-fast-compare-b6572a53.js";import"./scheduler-04ce0582.js";import"./use-sync-external-store-ba804a53.js";import"./history-6218fa6a.js";import"./prop-types-4d501b15.js";import"./invariant-c4c304c3.js";import"./shallowequal-6a8ebf1c.js";import"./deepmerge-89e33937.js";import"./memoize-one-b182cc03.js";import"./load-script-d550e3b0.js";(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))d(o);new MutationObserver(o=>{for(const i of o)if(i.type==="childList")for(const m of i.addedNodes)m.tagName==="LINK"&&m.rel==="modulepreload"&&d(m)}).observe(document,{childList:!0,subtree:!0});function n(o){const i={};return o.integrity&&(i.integrity=o.integrity),o.referrerPolicy&&(i.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?i.credentials="include":o.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function d(o){if(o.ep)return;o.ep=!0;const i=n(o);fetch(o.href,i)}})();const W="playlistDetails/addToPlaylistDetails",Z="playlistDetails/deleteFromPlaylistDetails",K="playlistDetails/Etag",ee=async(e,t)=>{let n=[];const d="https://www.googleapis.com/youtube/v3",o="AIzaSyA8JtiLpC8D9nhMK44CRTciv64H1MNFNDw";let i="";try{let l="";do{const f=await Q.get(`${d}/playlistItems`,{headers:{"If-None-Match":t},params:{part:"snippet",maxResults:50,key:o,pageToken:l,playlistId:e,fields:"etag,nextPageToken,items(snippet(title,videoOwnerChannelTitle,position, thumbnails(default(url)), resourceId(videoId))),pageInfo"}});n.push(...f.data.items),i===""&&(i=f.data.etag),f.data.nextPageToken?l=f.data.nextPageToken:l=""}while(l)}catch(l){return l.response.status===304||l.response.status===404?l.response.status:l.response.status===500?(console.log("Server Error"),404):(console.log("Error ",l.response),404)}return{playlistEtag:i,responseArrToAdd:n,currentSong:n[0].snippet.resourceId.videoId,nextSong:n[1].snippet.resourceId.videoId}},F="playlistSongs/addSongsByPlaylistID",te="playlistSongs/removePlaylistSongsById",$="player/isPlaying",q="player/isLoopActive",M="player/isShuffleActive",O="player/previousSong",C="player/currentSong",N="player/nextSong",_="player/setcurrentActivePlaylistId",re=async(e,t)=>{const n="https://www.googleapis.com/youtube/v3",d="AIzaSyA8JtiLpC8D9nhMK44CRTciv64H1MNFNDw";let o={};try{const i=await Q.get(`${n}/playlists`,{params:{part:"snippet",id:e,key:d}});o={playlistName:i.data.items[0].snippet.title,playlistId:i.data.items[0].id,PlaylistImage:i.data.items[0].snippet.thumbnails.medium.url,playlistEtag:t}}catch(i){return i.response.status===304||i.response.status===404?i.response.status:i.response.status===500?(console.log("Server Error"),404):(console.log("Error ",i.response),404)}return o},Be=y.memo(({playlistDetails:e,addToPlaylistDetails:t,nextSong:n,playlistSongsById:d,player:o,deleteFromPlaylistDetails:i,addSongsByPlaylistID:m,setcurrentActivePlaylistId:l,removePlaylistSongsById:f,currentSong:L,modifyEtagInPlaylistDetailsById:w})=>{const P=j(),s="/playlistShuffle",c=e.map(a=>I(V,{w:"100%",mt:2,display:"flex",flexDirection:"row",bg:"red.500",borderRadius:"lg",cursor:"pointer",m:"16 0",className:"playlistUsedList",children:[I(S,{className:"usedContentTextandImage",onClick:()=>p(a.playlistId),children:[r(U,{borderRadius:"5% 0 0 5%",alt:a.playlistName,boxSize:["75px","85px","120px"],objectFit:"cover",className:"imgUsedPlaylist",src:a.PlaylistImage}),r(R,{mt:"1.5",size:["md","md","lg"],noOfLines:"2",className:"usedPlaylistName",children:r(Y,{color:"whiteAlpha.900",noOfLines:[2,2],children:a.playlistName})})]}),r(ae,{}),r(ce,{ml:["5px","5px","15px","15px"],colorScheme:"whiteAlpha",color:"white",className:"playlistUsedButton",onClick:()=>u(a.playlistId)})]},a.playlistId)),p=async a=>{await l(a);const g=e.filter(h=>h.playlistId===a),A=await ee(a,g[0].playlistEtag);if(A===304)await L(d[g[0].playlistId][0].snippet.resourceId.videoId),await n(d[g[0].playlistId][1].snippet.resourceId.videoId);else{const h={id:a,songs:A.responseArrToAdd},x=await re(a,A.playlistEtag),k={playlistId:a,etag:A.playlistEtag};await t(x),await w(k),m(h),L(A.currentSong),n(A.nextSong)}P(`${s}/playlist/${a}`)},u=a=>{f(a),i(a)};return r(S,{flexDirection:"column",className:"playlistUsedContainer",children:e.length?c:null})}),We=e=>({playlistSongsById:e.playlistSongsById,songs:e.songs,player:e.player,playlistDetails:e.playlistDetails}),Ke=e=>({currentSong:t=>e({type:C,payload:t}),nextSong:t=>e({type:N,payload:t}),addToPlaylistDetails:t=>e({type:W,payload:t}),deleteFromPlaylistDetails:t=>e({type:Z,payload:t}),addSongsByPlaylistID:t=>e({type:F,payload:t}),setcurrentActivePlaylistId:t=>e({type:_,payload:t}),removePlaylistSongsById:t=>e({type:te,payload:t}),modifyEtagInPlaylistDetailsById:t=>e({type:K,payload:t})}),qe=E(We,Ke)(Be),Je=({playlistDetails:e,currentSong:t,nextSong:n,addToPlaylistDetails:d,addSongsByPlaylistID:o,playlistSongsById:i,setcurrentActivePlaylistId:m,player:l,modifyEtagInPlaylistDetailsById:f})=>{const[L,w]=y.useState(""),[P,s]=y.useState(!1),[c,p]=y.useState(!1),u=j(),a="/playlistShuffle",g=async h=>{h.preventDefault(),s(!0);const x=/PL(.*)/,b="PL"+L.match(x)[1],z=e.filter(H=>H.playlistId===b);m(b);const ne=z.length>0?z[0].playlistEtag:"",T=await ee(b,ne);if(T===304)t(i[z[0].playlistId][0].snippet.resourceId.videoId),n(i[z[0].playlistId][1].snippet.resourceId.videoId),s(!1),u(`${a}/playlist/${b}`);else if(T===404)console.log("data is ",T),p(!0),s(!1);else{const H={id:b,songs:T.responseArrToAdd},oe=await re(b,T.playlistEtag),le={playlistId:b,etag:T.playlistEtag};await d(oe),await f(le),s(!1),await o(H),await t(T.currentSong),await n(T.nextSong),u(`${a}/playlist/${b}`)}},A=h=>{h.preventDefault(),w(h.target.value)};return r(S,{mt:"20",className:"searchContainer",children:r("form",{style:{width:"100%"},onSubmit:h=>g(h),children:I(de,{isInvalid:c,children:[I(S,{children:[r(ue,{errorBorderColor:"red.500",variant:"outline",size:"lg",className:"inputSearch",pattern:"^(?=.*.{24,})(?=.*PL).*",type:"text",required:!0,onChange:h=>A(h),value:L}),r(pe,{isLoading:!!P,colorScheme:"red",ml:"1.5",size:"lg",className:"submitBtn",type:"submit",children:"Play"})]}),c?r(me,{children:"THE ID OR URL IS NOT A VALID ONE "}):r(Ie,{children:"ID or playlist URL"})]})})})},Qe=e=>({playlistSongsById:e.playlistSongsById,playlistDetails:e.playlistDetails,player:e.player}),Xe=e=>({currentSong:t=>e({type:C,payload:t}),nextSong:t=>e({type:N,payload:t}),addToPlaylistDetails:t=>e({type:W,payload:t}),addSongsByPlaylistID:t=>e({type:F,payload:t}),setcurrentActivePlaylistId:t=>e({type:_,payload:t}),modifyEtagInPlaylistDetailsById:t=>e({type:K,payload:t})}),Ze=E(Qe,Xe)(Je),se=({title:e})=>r(we,{children:r("title",{children:e})}),et=()=>{const e="/playlistShuffle",t=j();return I(B,{h:"calc(100vh)",w:"100%",maxWidth:"2266px",bg:"whiteAlpha.900",children:[r(se,{title:"Paylist Shuffle | randomize your playlist"}),I(v,{w:"85%",m:"0 auto",children:[I(R,{onClick:()=>t(e),cursor:"pointer",color:"black",className:"title",children:[" ",r(fe,{children:"Playlist Shuffle"})]}),r(v,{children:r(Ze,{})}),r(v,{children:r(qe,{})})]})]})},tt=y.memo(({player:e,previousSong:t,currentSong:n,nextSong:d,playlistSongsById:o,addSongsByPlaylistID:i})=>{var w,P;const m=(w=o[e.currentActivePlaylistId])==null?void 0:w.reduce((s,c)=>(s[c.snippet.resourceId.videoId]=Ae.createRef(),s),{});y.useEffect(()=>{m[e.currentSong].current.scrollIntoView({block:"start"})},[e.currentSong]),y.useEffect(()=>{l()},[e.isShuffleActive]);const l=()=>{if(e.isShuffleActive===!0){const s=new Ee;let c=[];c.push(...o[e.currentActivePlaylistId]);for(let u=c.length-1;u>0;u--){const a=Math.floor(s.random()*(u+1));[c[u],c[a]]=[c[a],c[u]]}const p={id:e.currentActivePlaylistId,songs:c};i(p),n(c[0].snippet.resourceId.videoId),d(c[1].snippet.resourceId.videoId)}else{let s=[];s.push(...o[e.currentActivePlaylistId]),s.sort(function(p,u){return p.snippet.position-u.snippet.position});const c={id:e.currentActivePlaylistId,songs:s};i(c),n(s[0].snippet.resourceId.videoId),d(s[1].snippet.resourceId.videoId)}},f=s=>{var p,u,a;const c=o[e.currentActivePlaylistId].findIndex(g=>{var A;return((A=g.snippet)==null?void 0:A.resourceId.videoId)===s});t((p=o[e.currentActivePlaylistId][c-1])==null?void 0:p.snippet.resourceId.videoId),n((u=o[e.currentActivePlaylistId][c])==null?void 0:u.snippet.resourceId.videoId),d((a=o[e.currentActivePlaylistId][c+1])==null?void 0:a.snippet.resourceId.videoId)},L=(P=o[e.currentActivePlaylistId])==null?void 0:P.map((s,c)=>{var p;return s.snippet.title!=="Private video"&&s.snippet.title!=="Deleted video"?r(V,{borderRadius:"lg",w:["95%","90%"],cursor:"pointer",title:s.snippet.title,m:"2",ref:m[s.snippet.resourceId.videoId],id:`${s.snippet.resourceId.videoId}`,onClick:()=>f(s.snippet.resourceId.videoId),children:r(V,{borderRadius:"lg",bg:e.currentSong===s.snippet.resourceId.videoId?"var(--chakra-colors-red-600)":null,color:e.currentSong===s.snippet.resourceId.videoId?"white":"",_hover:{background:"var(--chakra-colors-red-600)",color:"white"},children:I(S,{children:[r(U,{borderRadius:"lg",src:(p=s.snippet.thumbnails.default)==null?void 0:p.url,alt:"song image",boxSize:["40px","40px","65px"],objectFit:"none"}),I(v,{ml:"1",className:"cardText",children:[r(R,{size:["xs","xs","sm","md"],children:r(Y,{noOfLines:[1,1,2,2],children:s.snippet.title})}),I(Y,{noOfLines:"1",className:"cardArtist",children:[" ",s.snippet.videoOwnerChannelTitle]})]})]})})},s.snippet.resourceId.videoId+"index"+c):null});return r(v,{passive:"true",className:"cardContainer",mt:["0","4","0","0","0"],overflowY:"scroll",h:["37vh","37vh","100%","95%","100%"],children:r(he,{h:"100%",pt:"1",w:["95%","95%","95%",null,"100%"],margin:["0 auto","0 auto","0 auto",null],className:"ulListCards",children:L})})}),rt=e=>({previousSong:t=>e({type:O,payload:t}),currentSong:t=>e({type:C,payload:t}),nextSong:t=>e({type:N,payload:t}),addSongsByPlaylistID:t=>e({type:F,payload:t})}),st=e=>({playlistSongsById:e.playlistSongsById,songs:e.songs,player:e.player}),it=E(st,rt)(tt),nt=y.memo(({player:e,isPlaying:t,isLoopActive:n,isShuffleActive:d,previousSong:o,currentSong:i,nextSong:m,playlistSongsById:l})=>{const f=s=>{t(s)},L=()=>{var c,p,u;const s=l[e.currentActivePlaylistId].findIndex(a=>a.snippet.resourceId.videoId===e.currentSong);s!==0&&(o((c=l[e.currentActivePlaylistId][s-2])==null?void 0:c.snippet.resourceId.videoId),i((p=l[e.currentActivePlaylistId][s-1])==null?void 0:p.snippet.resourceId.videoId),m((u=l[e.currentActivePlaylistId][s])==null?void 0:u.snippet.resourceId.videoId))},w=()=>{var c,p,u;const s=l[e.currentActivePlaylistId].findIndex(a=>{var g;return((g=a.snippet)==null?void 0:g.resourceId.videoId)===e.currentSong});s<l[e.currentActivePlaylistId].length-1?(o((c=l[e.currentActivePlaylistId][s])==null?void 0:c.snippet.resourceId.videoId),i((p=l[e.currentActivePlaylistId][s+1])==null?void 0:p.snippet.resourceId.videoId),m((u=l[e.currentActivePlaylistId][s+2])==null?void 0:u.snippet.resourceId.videoId)):s===l[e.currentActivePlaylistId].length-1&&console.log("No more songs left")},P=()=>{e.isShuffleActive===!1?d(!0):d(!1)};return I(S,{flexDirection:"row",alignItems:"baseline",className:"mediaButtons ",maxW:"100%",children:[e.isLoopActive===!0?r(v,{passive:"true",onClick:()=>n(!1),children:r(D,{colorScheme:"red",size:"2rem",ml:"1.5",mr:"1.5",icon:r(Te,{size:45})})}):r(v,{children:r(D,{colorScheme:"red",size:"2rem",ml:"1.5",passive:"true",onClick:()=>n(!0),mr:"1.5",icon:r(De,{size:45})})}),r(v,{children:r(D,{passive:"true",onClick:L,colorScheme:"red",size:"1.5rem",ml:"1.5",mr:"1.5",icon:r(Ce,{size:45})})}),e.isPlaying===!0?r(v,{children:r(D,{passive:"true",colorScheme:"red",size:"2rem",ml:"1.5",mr:"1.5",onClick:()=>f(!1),icon:r(Ne,{size:55})})}):r(v,{children:r(D,{colorScheme:"red",size:"2rem",ml:"1.5",passive:"true",mr:"1.5",onClick:()=>f(!0),icon:r(Re,{size:55})})}),r(v,{children:r(D,{onClick:w,colorScheme:"red",size:"1.5rem",passive:"true",ml:"1.5",mr:"1.5",icon:r(ke,{size:45})})}),e.isShuffleActive?r(v,{children:r(D,{onClick:P,bg:"red.800",color:"white",size:"1.5rem",passive:"true",ml:"1.5",mr:"1.5",_hover:{background:"var(--chakra-colors-red-600)",color:"white"},icon:r(J,{size:45})})}):r(v,{children:r(D,{onClick:P,colorScheme:"red",size:"1.5rem",passive:"true",ml:"1.5",mr:"1.5",icon:r(J,{size:45})})})]})}),ot=e=>({player:e.player,songs:e.songs,playlistSongsById:e.playlistSongsById}),lt=e=>({isPlaying:t=>e({type:$,payload:t}),isLoopActive:t=>e({type:q,payload:t}),isShuffleActive:t=>e({type:M,payload:t}),previousSong:t=>e({type:O,payload:t}),currentSong:t=>e({type:C,payload:t}),nextSong:t=>e({type:N,payload:t})}),at=E(ot,lt)(nt),ct=({player:e,isPlaying:t,previousSong:n,currentSong:d,nextSong:o,playlistSongsById:i})=>{y.useEffect(()=>{var s;i[e.currentActivePlaylistId]&&d((s=i[e.currentActivePlaylistId][0])==null?void 0:s.snippet.resourceId.videoId)},[]);const m=()=>{var c,p,u,a,g;const s=i[e.currentActivePlaylistId].findIndex(A=>{var h;return((h=A.snippet)==null?void 0:h.resourceId.videoId)===e.currentSong});s<i[e.currentActivePlaylistId].length-1?(n((c=i[e.currentActivePlaylistId][s])==null?void 0:c.snippet.resourceId.videoId),d((p=i[e.currentActivePlaylistId][s+1])==null?void 0:p.snippet.resourceId.videoId),o((u=i[e.currentActivePlaylistId][s+2])==null?void 0:u.snippet.resourceId.videoId)):(n((a=i[e.currentActivePlaylistId][s])==null?void 0:a.snippet.resourceId.videoId),d((g=i[e.currentActivePlaylistId][s+1])==null?void 0:g.snippet.resourceId.videoId),o(""))},l=()=>{i[e.currentActivePlaylistId].findIndex(s=>s.snippet.resourceId.videoId===e.currentSong)===i[e.currentActivePlaylistId].length-1?(console.log("Playlist Ended"),t(!1)):m()},f=()=>{i[e.currentActivePlaylistId].findIndex(s=>s.snippet.resourceId.videoId===e.currentSong)===i[e.currentActivePlaylistId].length-1?(console.log("Playlist Ended"),t(!1)):m()},L=()=>{t(!0)},w=()=>{t(!1)},P=()=>{t(!0)};return r(ye,{w:"100%",h:["100%"],passive:"true",_before:{pb:"0"},ratio:1,className:"player",children:r(Oe,{passive:"true",onError:f,onPlay:()=>L(),onPause:()=>w(),onReady:()=>P,onEnded:l,width:"100%",height:"100%",controls:!0,loop:e.isLoopActive,playing:e.isPlaying,url:`https://www.youtube.com/watch?v=${e.currentSong}`})})},dt=e=>({isPlaying:t=>e({type:$,payload:t}),previousSong:t=>e({type:O,payload:t}),currentSong:t=>e({type:C,payload:t}),nextSong:t=>e({type:N,payload:t})}),ut=e=>({songs:e.songs,player:e.player,playlistSongsById:e.playlistSongsById}),pt=E(ut,dt)(ct),mt=y.memo(({player:e,playlistSongsById:t})=>{var d,o,i;const n=(d=t[e.currentActivePlaylistId])==null?void 0:d.findIndex(m=>m.snippet.resourceId.videoId===e.currentSong);return I(S,{mt:"1",alignItems:"center",children:[r(U,{boxSize:["35px","35px","45px","75px, 100px"],objectFit:"none",borderRadius:"lg",alt:(o=t[e.currentActivePlaylistId][n])==null?void 0:o.snippet.title,src:(i=t[e.currentActivePlaylistId][n])==null?void 0:i.snippet.thumbnails.default.url}),r(S,{children:r(R,{ml:"1",textAlign:"center",width:"100%",color:"var(--chakra-colors-red-600)",className:"songTitle",size:["sm","sm","md","md","md","md"],maxW:["60","60","60","60","60"],children:r(Y,{noOfLines:["1","1","2","2"],children:t[e.currentActivePlaylistId][n].snippet.title})})})]})}),It=e=>({playlistSongsById:e.playlistSongsById,songs:e.songs,player:e.player}),ft=E(It,null)(mt),ht=({isPlaying:e,previousSong:t,currentSong:n,nextSong:d,isShuffleActive:o,setcurrentActivePlaylistId:i})=>{const m="/playlistShuffle",l=j();return r(S,{className:"navbar",children:I(R,{cursor:"pointer",onClick:()=>(e(!0),t(""),n(""),d(""),o(!1),i(""),l(m)),m:"0 auto",color:"black",children:["Playlist Shuffle"," "]})})},yt=e=>({isPlaying:t=>e({type:$,payload:t}),previousSong:t=>e({type:O,payload:t}),currentSong:t=>e({type:C,payload:t}),nextSong:t=>e({type:N,payload:t}),isShuffleActive:t=>e({type:M,payload:t}),setcurrentActivePlaylistId:t=>e({type:_,payload:t})}),vt=E(null,yt)(ht),Pt=({playlistDetails:e})=>{const{id:t}=X(),[n,d]=y.useState({name:"",image:""});return y.useEffect(()=>{const o=e==null?void 0:e.find(i=>i.playlistId===t);d({name:o.playlistName,image:o.PlaylistImage})},[]),I(S,{alignItems:"center",children:[r(U,{boxSize:["35px","40px","45px","60px"],objectFit:"cover",borderRadius:"lg",src:n.image,alt:n.name}),r(R,{ml:"1",noOfLines:["1","1","2","2"],size:["sm","sm","md","md"],children:n.name})]})},gt=e=>({songs:e.songs,player:e.player,playlistDetails:e.playlistDetails}),At=E(gt,null)(y.memo(Pt)),St=y.memo(({isPlaying:e,player:t,isLoopActive:n,isShuffleActive:d,currentSong:o,previousSong:i,nextSong:m,playlistSongsById:l})=>{const[f,L]=y.useState("");X();const w=y.useRef(null);return y.useEffect(()=>{const P=l[t.currentActivePlaylistId].findIndex(s=>s.snippet.resourceId.videoId===t.currentSong);L(l[t.currentActivePlaylistId][P].snippet.title)},[t.currentSong]),y.useEffect(()=>{const P=c=>{var p,u,a,g,A,h;switch(c.code){case"Space":{e(t.isPlaying!==!0);break}case"KeyR":{n(t.isLoopActive!==!0);break}case"KeyS":{d(t.isShuffleActive!==!0);break}case"ArrowLeft":{const x=l[t.currentActivePlaylistId].findIndex(k=>k.snippet.resourceId.videoId===t.currentSong);x!==0&&(i((p=l[t.currentActivePlaylistId][x-2])==null?void 0:p.snippet.resourceId.videoId),m((u=l[t.currentActivePlaylistId][x])==null?void 0:u.snippet.resourceId.videoId),o((a=l[t.currentActivePlaylistId][x-1])==null?void 0:a.snippet.resourceId.videoId));break}case"ArrowRight":{const x=l[t.currentActivePlaylistId].findIndex(k=>{var b;return((b=k.snippet)==null?void 0:b.resourceId.videoId)===t.currentSong});x<l[t.currentActivePlaylistId].length-1?(i((g=l[t.currentActivePlaylistId][x])==null?void 0:g.snippet.resourceId.videoId),o((A=l[t.currentActivePlaylistId][x+1])==null?void 0:A.snippet.resourceId.videoId),m((h=l[t.currentActivePlaylistId][x+2])==null?void 0:h.snippet.resourceId.videoId)):x===l[t.currentActivePlaylistId].length-1&&console.log("No more songs left");break}}},s=w.current;return s.addEventListener("keydown",P,{passive:!0}),()=>{s.removeEventListener("keydown",P,{passive:!0})}},[t]),I(B,{ref:w,passive:"true",tabIndex:0,className:"container",w:"100%",h:"100vh",maxWidth:"1866px",children:[r(se,{title:`${f} - Playlist Shuffle`}),r(vt,{}),r(S,{justify:["center","center","left","left"],mb:"1.5",children:r(At,{})}),I(v,{className:"box",w:["98%","98%","98%","95%"],m:"0 auto",display:"flex",justifyContent:"center",children:[I(S,{className:"mainContent",h:["100%","100%","65vh","65vh","65vh","65vh"],maxH:"1900px",flexDirection:["column","column","row"],alignItems:["center","center","center","inherit"],w:"100%",children:[r(v,{w:["100%","100%","40%","40%"],h:["30vh","30vh","100%","100%"],maxH:"1900px",children:r(pt,{})}),r(v,{mt:["10px","10px","0","0"],w:["100%","100%","100%","50%"],h:["100%","100%","100%","100%"],maxH:"1900px",children:r(it,{})})]}),I(v,{className:"bottomMedia",minW:"100%",position:"fixed",bottom:"0",h:["18%","14%"],left:"0",bg:"red.100",display:"flex",pt:["1","1","5"],pb:[null,null,"2"],flexDirection:["column","column","row","row"],justifyContent:["center"],children:[r(S,{justify:"center",children:r(ft,{})}),r(S,{justify:"center",alignItems:"center",className:"mediaButtonsContainer",children:r(at,{})})]})]})]})}),xt=e=>({isPlaying:t=>e({type:$,payload:t}),isLoopActive:t=>e({type:q,payload:t}),isShuffleActive:t=>e({type:M,payload:t}),previousSong:t=>e({type:O,payload:t}),currentSong:t=>e({type:C,payload:t}),nextSong:t=>e({type:N,payload:t})}),Lt=e=>({songs:e.songs,player:e.player,playlistSongsById:e.playlistSongsById}),wt=E(Lt,xt)(St);function bt(){const e="/playlistShuffle";return r(ve,{children:I(Le,{children:[r(G,{exact:!0,path:`${e}`,element:r(et,{})}),r(G,{exact:!0,path:`${e}/playlist/:id`,element:r(wt,{})}),r(G,{path:`${e}/*`,element:r(B,{children:r(S,{justify:"center",children:r(R,{children:"Error 404"})})})})]})})}const Et={isPlaying:!0,previousSong:"",currentSong:"",nextSong:"",isShuffleActive:!1,isLoopActive:!1,currentActivePlaylistId:""};function Tt(e=Et,t){switch(t.type){case $:return{...e,isPlaying:t.payload};case q:return{...e,isLoopActive:t.payload};case M:return{...e,isShuffleActive:t.payload};case O:return{...e,previousSong:t.payload};case C:return{...e,currentSong:t.payload};case N:return{...e,nextSong:t.payload};case _:return{...e,currentActivePlaylistId:t.payload};default:return e}}const Dt=[];function Ct(e=Dt,t){switch(t.type){case"playlistDetails/add":return t.payload;case W:return e.filter(n=>n.playlistId===t.payload.playlistId).length?e:[...e,t.payload];case Z:return e.filter(n=>n.playlistId!==t.payload);case K:return e.map(n=>n.playlistId===t.payload.playlistId?{...n,playlistEtag:t.payload.etag}:n);default:return e}}const Nt={};function Rt(e=Nt,t){switch(t.type){case F:return{...e,[t.payload.id]:t.payload.songs};case te:{const n=Fe.cloneDeep(e);return delete n[t.payload],n}default:return e}}const kt="HASPLAYLISTLOADED/HASPLAYLISTLOADED",Ot={hasPlaylistLoaded:!1};function $t(e=Ot,t){switch(t.type){case kt:return t.payload;default:return e}}const zt=ze({playlistSongsById:Rt,player:Tt,playlistDetails:Ct,hasplaylistloaded:$t}),Yt={key:"root",storage:He},Ut=je(Ye(Ve)),jt=Me(Yt,zt),ie=Ue(jt,void 0,Ut),Ft=_e(ie),Mt={initialColorMode:"light",useSystemColorMode:!1};Pe({config:Mt});Se.createRoot(document.getElementById("root")).render(r(be,{children:r($e,{children:r(ge,{children:r(xe,{store:ie,children:r(Ge,{loading:null,persistor:Ft,children:r(bt,{})})})})})}));
