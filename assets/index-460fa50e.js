import{j as h,C as G,F as A,a as r,I as Y,H as k,T as z,S as le,b as ce,c as ae,d as de,B as ue,e as pe,f as me,g as V,h as y,i as Ie,U as fe,k as b,A as he,l as ve,m as ye,n as ge}from"./@chakra-ui-7aaa1343.js";import{r as v,R as Pe}from"./react-c64dbe91.js";import{c as Ae}from"./react-dom-c53c899c.js";import{c as T,P as Se}from"./react-redux-1333c110.js";import{a as J}from"./axios-aba6f0e0.js";import{u as j,a as Q,b as xe,c as U}from"./react-router-e4f3dcd9.js";import{W as Le,q as we}from"./react-helmet-async-50dd111f.js";import{m as Ee}from"./mersenne-twister-da726c1b.js";import{T as Te,a as be,B as Ce,b as De,c as Ne,d as Re,e as q}from"./react-icons-a2d551ba.js";import{R as ke}from"./react-player-3e647563.js";import{B as Oe}from"./react-router-dom-9256e78e.js";import{a as $e,b as ze,l as Ye}from"./redux-f29a9c13.js";import{c as je}from"./redux-devtools-extension-a2dfdb94.js";import{l as Fe}from"./lodash-a0493938.js";import{p as Me,a as _e,d as He,P as Ue}from"./redux-persist-69f87f47.js";import{t as Ge}from"./redux-thunk-ef899f4c.js";import"./hoist-non-react-statics-dd442a32.js";import"./react-is-d0c61868.js";import"./lodash.mergewith-05537c4f.js";import"./copy-to-clipboard-87174ba5.js";import"./@emotion-900dbcce.js";import"./@babel-5b6df6e6.js";import"./stylis-581c9ed0.js";import"./color2k-69f3754e.js";import"./framer-motion-e1e0f137.js";import"./react-fast-compare-b6572a53.js";import"./scheduler-04ce0582.js";import"./use-sync-external-store-ba804a53.js";import"./history-6218fa6a.js";import"./prop-types-4d501b15.js";import"./invariant-c4c304c3.js";import"./shallowequal-6a8ebf1c.js";import"./deepmerge-89e33937.js";import"./memoize-one-b182cc03.js";import"./load-script-d550e3b0.js";(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const n of document.querySelectorAll('link[rel="modulepreload"]'))d(n);new MutationObserver(n=>{for(const i of n)if(i.type==="childList")for(const m of i.addedNodes)m.tagName==="LINK"&&m.rel==="modulepreload"&&d(m)}).observe(document,{childList:!0,subtree:!0});function o(n){const i={};return n.integrity&&(i.integrity=n.integrity),n.referrerPolicy&&(i.referrerPolicy=n.referrerPolicy),n.crossOrigin==="use-credentials"?i.credentials="include":n.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function d(n){if(n.ep)return;n.ep=!0;const i=o(n);fetch(n.href,i)}})();const W="playlistDetails/addToPlaylistDetails",X="playlistDetails/deleteFromPlaylistDetails",B="playlistDetails/Etag",Z=async(e,t)=>{let o=[];const d="https://www.googleapis.com/youtube/v3",n="AIzaSyA8JtiLpC8D9nhMK44CRTciv64H1MNFNDw";let i="";try{let l="";do{const g=await J.get(`${d}/playlistItems`,{headers:{"If-None-Match":t},params:{part:"snippet",maxResults:50,key:n,pageToken:l,playlistId:e,fields:"etag,nextPageToken,items(snippet(title,videoOwnerChannelTitle,position, thumbnails(default(url)), resourceId(videoId))),pageInfo"}});o.push(...g.data.items),i===""&&(i=g.data.etag),g.data.nextPageToken?l=g.data.nextPageToken:l=""}while(l)}catch(l){return l.response.status===304||l.response.status===404?l.response.status:l.response.status===500?(console.log("Server Error"),404):(console.log("Error ",l.response),404)}return{playlistEtag:i,responseArrToAdd:o,currentSong:o[0].snippet.resourceId.videoId,nextSong:o[1].snippet.resourceId.videoId}},F="playlistSongs/addSongsByPlaylistID",ee="playlistSongs/removePlaylistSongsById",O="player/isPlaying",K="player/isLoopActive",M="player/isShuffleActive",$="player/previousSong",C="player/currentSong",D="player/nextSong",_="player/setcurrentActivePlaylistId",te=async(e,t)=>{const o="https://www.googleapis.com/youtube/v3",d="AIzaSyA8JtiLpC8D9nhMK44CRTciv64H1MNFNDw";let n={};try{const i=await J.get(`${o}/playlists`,{params:{part:"snippet",id:e,key:d}});n={playlistName:i.data.items[0].snippet.title,playlistId:i.data.items[0].id,PlaylistImage:i.data.items[0].snippet.thumbnails.medium.url,playlistEtag:t}}catch(i){console.log("Error fetching data: ",i)}return n},Ve=v.memo(({playlistDetails:e,addToPlaylistDetails:t,nextSong:o,playlistSongsById:d,player:n,isPlaying:i,deleteFromPlaylistDetails:m,addSongsByPlaylistID:l,setcurrentActivePlaylistId:g,removePlaylistSongsById:w,currentSong:P,modifyEtagInPlaylistDetailsById:I})=>{const s=j(),c=e.map(a=>h(G,{w:"100%",mt:2,display:"flex",flexDirection:"row",bg:"red.500",borderRadius:"lg",cursor:"pointer",m:"16 0",className:"playlistUsedList",children:[h(A,{className:"usedContentTextandImage",onClick:()=>u(a.playlistId),children:[r(Y,{borderRadius:"5% 0 0 5%",alt:a.playlistName,boxSize:["75px","85px","120px"],objectFit:"cover",className:"imgUsedPlaylist",src:a.PlaylistImage}),r(k,{mt:"1.5",size:["md","md","lg"],noOfLines:"2",className:"usedPlaylistName",children:r(z,{color:"whiteAlpha.900",noOfLines:[2,2],children:a.playlistName})})]}),r(le,{}),r(ce,{ml:["5px","5px","15px","15px"],colorScheme:"whiteAlpha",color:"white",className:"playlistUsedButton",onClick:()=>p(a.playlistId)})]},a.playlistId)),u=async a=>{await g(a);const x=e.filter(E=>E.playlistId===a),f=await Z(a,x[0].playlistEtag);if(f===304)await P(d[x[0].playlistId][0].snippet.resourceId.videoId),await o(d[x[0].playlistId][1].snippet.resourceId.videoId),i(!0);else{const E={id:a,songs:f.responseArrToAdd},L=await te(a,f.playlistEtag),S={playlistId:a,etag:f.playlistEtag};await t(L),await I(S),l(E),P(f.currentSong),o(f.nextSong)}s(`playlist/${a}`)},p=a=>{w(a),m(a)};return r(A,{flexDirection:"column",className:"playlistUsedContainer",children:e.length?c:null})}),We=e=>({playlistSongsById:e.playlistSongsById,songs:e.songs,player:e.player,playlistDetails:e.playlistDetails}),Be=e=>({currentSong:t=>e({type:C,payload:t}),nextSong:t=>e({type:D,payload:t}),addToPlaylistDetails:t=>e({type:W,payload:t}),deleteFromPlaylistDetails:t=>e({type:X,payload:t}),addSongsByPlaylistID:t=>e({type:F,payload:t}),setcurrentActivePlaylistId:t=>e({type:_,payload:t}),removePlaylistSongsById:t=>e({type:ee,payload:t}),modifyEtagInPlaylistDetailsById:t=>e({type:B,payload:t}),isPlaying:t=>e({type:O,payload:t})}),Ke=T(We,Be)(Ve),qe=({playlistDetails:e,currentSong:t,nextSong:o,addToPlaylistDetails:d,addSongsByPlaylistID:n,playlistSongsById:i,setcurrentActivePlaylistId:m,player:l,modifyEtagInPlaylistDetailsById:g})=>{const[w,P]=v.useState(""),[I,s]=v.useState(!1),[c,u]=v.useState(!1),p=j(),a=async f=>{f.preventDefault(),s(!0);const E=/PL(.*)/,S="PL"+w.match(E)[1],N=e.filter(H=>H.playlistId===S);m(S);const ie=N.length>0?N[0].playlistEtag:"",R=await Z(S,ie);if(R===304)t(i[N[0].playlistId][0].snippet.resourceId.videoId),o(i[N[0].playlistId][1].snippet.resourceId.videoId),s(!1),p(`playlist/${S}`);else if(R===404)u(!0),s(!1);else{const H=await te(S,R.playlistEtag),ne={playlistId:S,etag:R.playlistEtag};await d(H);const oe={id:S,songs:R.responseArrToAdd};await g(ne),s(!1),await n(oe),await t(R.currentSong),await o(R.nextSong),p(`playlist/${S}`)}},x=f=>{f.preventDefault(),P(f.target.value)};return r(A,{mt:"20",className:"searchContainer",children:r("form",{style:{width:"100%"},onSubmit:f=>a(f),children:h(ae,{isInvalid:c,children:[h(A,{children:[r(de,{errorBorderColor:"red.500",variant:"outline",size:"lg",className:"inputSearch",pattern:"^(?=.*.{24,})(?=.*PL).*",type:"text",required:!0,onChange:f=>x(f),value:w}),r(ue,{isLoading:!!I,colorScheme:"red",ml:"1.5",size:"lg",className:"submitBtn",type:"submit",children:"Play"})]}),c?h(pe,{children:["THE ID OR URL IS NOT A VALID ONE"," "]}):r(me,{children:"ID or playlist URL"})]})})})},Je=e=>({playlistSongsById:e.playlistSongsById,playlistDetails:e.playlistDetails,player:e.player}),Qe=e=>({currentSong:t=>e({type:C,payload:t}),nextSong:t=>e({type:D,payload:t}),addToPlaylistDetails:t=>e({type:W,payload:t}),addSongsByPlaylistID:t=>e({type:F,payload:t}),setcurrentActivePlaylistId:t=>e({type:_,payload:t}),modifyEtagInPlaylistDetailsById:t=>e({type:B,payload:t})}),Xe=T(Je,Qe)(qe),re=({title:e})=>r(Le,{children:r("title",{children:e})}),Ze=()=>{const e=j();return h(V,{h:"calc(100vh)",w:"100%",maxWidth:"2266px",bg:"whiteAlpha.900",children:[r(re,{title:"Paylist Shuffle | randomize your playlist"}),h(y,{w:"85%",m:"0 auto",children:[h(k,{onClick:()=>e("/"),cursor:"pointer",color:"black",className:"title",children:[" ",r(Ie,{children:"Playlist Shuffle"})]}),r(y,{children:r(Xe,{})}),r(y,{children:r(Ke,{})})]})]})},et=({player:e,previousSong:t,currentSong:o,nextSong:d,playlistSongsById:n,addSongsByPlaylistID:i})=>{var P,I;const m=(P=n[e.currentActivePlaylistId])==null?void 0:P.reduce((s,c)=>(s[c.snippet.resourceId.videoId]=Pe.createRef(),s),{});v.useEffect(()=>{console.log("updated al ottt")}),v.useEffect(()=>{m[e.currentSong].current.scrollIntoView({block:"start"})},[e.currentSong]),v.useEffect(()=>{l()},[e.isShuffleActive]);const l=()=>{if(e.isShuffleActive===!0){const s=new Ee;let c=[];c.push(...n[e.currentActivePlaylistId]);for(let p=c.length-1;p>0;p--){const a=Math.floor(s.random()*(p+1));[c[p],c[a]]=[c[a],c[p]]}const u={id:e.currentActivePlaylistId,songs:c};i(u),o(c[0].snippet.resourceId.videoId),d(c[1].snippet.resourceId.videoId)}else{let s=[];s.push(...n[e.currentActivePlaylistId]),s.sort(function(u,p){return u.snippet.position-p.snippet.position});const c={id:e.currentActivePlaylistId,songs:s};i(c),o(s[0].snippet.resourceId.videoId),d(s[1].snippet.resourceId.videoId)}},g=s=>{var u,p,a;const c=n[e.currentActivePlaylistId].findIndex(x=>{var f;return((f=x.snippet)==null?void 0:f.resourceId.videoId)===s});t((u=n[e.currentActivePlaylistId][c-1])==null?void 0:u.snippet.resourceId.videoId),o((p=n[e.currentActivePlaylistId][c])==null?void 0:p.snippet.resourceId.videoId),d((a=n[e.currentActivePlaylistId][c+1])==null?void 0:a.snippet.resourceId.videoId)},w=(I=n[e.currentActivePlaylistId])==null?void 0:I.map((s,c)=>{var u;return s.snippet.title!=="Private video"&&s.snippet.title!=="Deleted video"?r(G,{borderRadius:"lg",w:["95%","90%"],cursor:"pointer",title:s.snippet.title,m:"2",ref:m[s.snippet.resourceId.videoId],id:`${s.snippet.resourceId.videoId}`,onClick:()=>g(s.snippet.resourceId.videoId),children:r(G,{borderRadius:"lg",bg:e.currentSong===s.snippet.resourceId.videoId?"var(--chakra-colors-red-600)":null,color:e.currentSong===s.snippet.resourceId.videoId?"white":"",_hover:{background:"var(--chakra-colors-red-600)",color:"white"},children:h(A,{children:[r(Y,{borderRadius:"lg",src:(u=s.snippet.thumbnails.default)==null?void 0:u.url,alt:"song image",boxSize:["40px","40px","65px"],objectFit:"none"}),h(y,{ml:"1",className:"cardText",children:[r(k,{size:["xs","xs","sm","md"],children:r(z,{noOfLines:[1,1,2,2],children:s.snippet.title})}),h(z,{noOfLines:"1",className:"cardArtist",children:[" ",s.snippet.videoOwnerChannelTitle]})]})]})})},s.snippet.resourceId.videoId+"index"+c):null});return r(y,{passive:"true",className:"cardContainer",mt:["0","4","0","0","0"],overflowY:"scroll",h:["37vh","37vh","100%","95%","100%"],children:r(fe,{h:"100%",pt:"1",w:["95%","95%","95%",null,"100%"],margin:["0 auto","0 auto","0 auto",null],className:"ulListCards",children:w})})},tt=e=>({previousSong:t=>e({type:$,payload:t}),currentSong:t=>e({type:C,payload:t}),nextSong:t=>e({type:D,payload:t}),addSongsByPlaylistID:t=>e({type:F,payload:t})}),rt=e=>({playlistSongsById:e.playlistSongsById,songs:e.songs,player:e.player}),st=T(rt,tt)(et),it=v.memo(({player:e,isPlaying:t,isLoopActive:o,isShuffleActive:d,previousSong:n,currentSong:i,nextSong:m,playlistSongsById:l})=>{const g=()=>{var s,c,u;const I=l[e.currentActivePlaylistId].findIndex(p=>p.snippet.resourceId.videoId===e.currentSong);I!==0&&(n((s=l[e.currentActivePlaylistId][I-2])==null?void 0:s.snippet.resourceId.videoId),i((c=l[e.currentActivePlaylistId][I-1])==null?void 0:c.snippet.resourceId.videoId),m((u=l[e.currentActivePlaylistId][I])==null?void 0:u.snippet.resourceId.videoId))},w=()=>{var s,c,u;const I=l[e.currentActivePlaylistId].findIndex(p=>{var a;return((a=p.snippet)==null?void 0:a.resourceId.videoId)===e.currentSong});I<l[e.currentActivePlaylistId].length-1?(n((s=l[e.currentActivePlaylistId][I])==null?void 0:s.snippet.resourceId.videoId),i((c=l[e.currentActivePlaylistId][I+1])==null?void 0:c.snippet.resourceId.videoId),m((u=l[e.currentActivePlaylistId][I+2])==null?void 0:u.snippet.resourceId.videoId)):I===l[e.currentActivePlaylistId].length-1&&console.log("No more songs left")},P=()=>{e.isShuffleActive===!1?d(!0):d(!1)};return h(A,{flexDirection:"row",alignItems:"baseline",className:"mediaButtons ",maxW:"100%",children:[e.isLoopActive===!0?r(y,{passive:"true",onClick:()=>o(!1),children:r(b,{colorScheme:"red",size:"2rem",ml:"1.5",mr:"1.5",icon:r(Te,{size:45})})}):r(y,{children:r(b,{colorScheme:"red",size:"2rem",ml:"1.5",passive:"true",onClick:()=>o(!0),mr:"1.5",icon:r(be,{size:45})})}),r(y,{children:r(b,{passive:"true",onClick:g,colorScheme:"red",size:"1.5rem",ml:"1.5",mr:"1.5",icon:r(Ce,{size:45})})}),e.isPlaying===!0?r(y,{children:r(b,{passive:"true",colorScheme:"red",size:"2rem",ml:"1.5",mr:"1.5",onClick:()=>t(!1),icon:r(De,{size:55})})}):r(y,{children:r(b,{colorScheme:"red",size:"2rem",ml:"1.5",passive:"true",mr:"1.5",onClick:()=>t(!0),icon:r(Ne,{size:55})})}),r(y,{children:r(b,{onClick:w,colorScheme:"red",size:"1.5rem",passive:"true",ml:"1.5",mr:"1.5",icon:r(Re,{size:45})})}),e.isShuffleActive?r(y,{children:r(b,{onClick:P,bg:"red.800",color:"white",size:"1.5rem",passive:"true",ml:"1.5",mr:"1.5",_hover:{background:"var(--chakra-colors-red-600)",color:"white"},icon:r(q,{size:45})})}):r(y,{children:r(b,{onClick:P,colorScheme:"red",size:"1.5rem",passive:"true",ml:"1.5",mr:"1.5",icon:r(q,{size:45})})})]})}),nt=e=>({player:e.player,songs:e.songs,playlistSongsById:e.playlistSongsById}),ot=e=>({isPlaying:t=>e({type:O,payload:t}),isLoopActive:t=>e({type:K,payload:t}),isShuffleActive:t=>e({type:M,payload:t}),previousSong:t=>e({type:$,payload:t}),currentSong:t=>e({type:C,payload:t}),nextSong:t=>e({type:D,payload:t})}),lt=T(nt,ot)(it),ct=v.memo(({player:e,playlistSongsById:t})=>{var d,n,i;const o=(d=t[e.currentActivePlaylistId])==null?void 0:d.findIndex(m=>m.snippet.resourceId.videoId===e.currentSong);return h(A,{mt:"1",alignItems:"center",children:[r(Y,{boxSize:["35px","35px","45px","75px, 100px"],objectFit:"none",borderRadius:"lg",alt:(n=t[e.currentActivePlaylistId][o])==null?void 0:n.snippet.title,src:(i=t[e.currentActivePlaylistId][o])==null?void 0:i.snippet.thumbnails.default.url}),r(A,{children:r(k,{ml:"1",textAlign:"center",width:"100%",color:"var(--chakra-colors-red-600)",className:"songTitle",size:["sm","sm","md","md","md","md"],maxW:["60","60","60","60","60"],children:r(z,{noOfLines:["1","1","2","2"],children:t[e.currentActivePlaylistId][o].snippet.title})})})]})}),at=e=>({playlistSongsById:e.playlistSongsById,songs:e.songs,player:e.player}),dt=T(at,null)(ct),ut=({isPlaying:e,previousSong:t,currentSong:o,nextSong:d,isShuffleActive:n,setcurrentActivePlaylistId:i})=>{const m=j();return r(A,{className:"navbar",children:h(k,{cursor:"pointer",onClick:()=>(e(!0),t(""),o(""),d(""),n(!1),i(""),m("/")),m:"0 auto",color:"black",children:["Playlist Shuffle"," "]})})},pt=e=>({isPlaying:t=>e({type:O,payload:t}),previousSong:t=>e({type:$,payload:t}),currentSong:t=>e({type:C,payload:t}),nextSong:t=>e({type:D,payload:t}),isShuffleActive:t=>e({type:M,payload:t}),setcurrentActivePlaylistId:t=>e({type:_,payload:t})}),mt=T(null,pt)(ut),It=v.memo(function({playlistDetails:e}){const{id:t}=Q(),[o,d]=v.useState({name:"",image:""}),n=v.useMemo(()=>e==null?void 0:e.find(i=>i.playlistId===t),[e,t]);return v.useEffect(()=>{console.log("re render"),d({name:n==null?void 0:n.playlistName,image:n==null?void 0:n.PlaylistImage})},[n]),h(A,{alignItems:"center",children:[r(Y,{boxSize:["35px","40px","45px","60px"],objectFit:"cover",borderRadius:"lg",src:o.image,alt:o.name}),r(k,{ml:"1",noOfLines:["1","1","2","2"],size:["sm","sm","md","md"],children:o.name})]})}),ft=e=>({songs:e.songs,player:e.player,playlistDetails:e.playlistDetails}),ht=T(ft,null)(v.memo(It)),vt=({player:e,isPlaying:t,previousSong:o,currentSong:d,nextSong:n,playlistSongsById:i})=>{v.useEffect(()=>{var s;i[e.currentActivePlaylistId]&&d((s=i[e.currentActivePlaylistId][0])==null?void 0:s.snippet.resourceId.videoId)},[]);const m=()=>{var c,u,p,a,x;const s=i[e.currentActivePlaylistId].findIndex(f=>{var E;return((E=f.snippet)==null?void 0:E.resourceId.videoId)===e.currentSong});s<i[e.currentActivePlaylistId].length-1?(o((c=i[e.currentActivePlaylistId][s])==null?void 0:c.snippet.resourceId.videoId),d((u=i[e.currentActivePlaylistId][s+1])==null?void 0:u.snippet.resourceId.videoId),n((p=i[e.currentActivePlaylistId][s+2])==null?void 0:p.snippet.resourceId.videoId)):(o((a=i[e.currentActivePlaylistId][s])==null?void 0:a.snippet.resourceId.videoId),d((x=i[e.currentActivePlaylistId][s+1])==null?void 0:x.snippet.resourceId.videoId),n(""))},l=()=>{i[e.currentActivePlaylistId].findIndex(s=>s.snippet.resourceId.videoId===e.currentSong)===i[e.currentActivePlaylistId].length-1?(console.log("Playlist Ended"),t(!1)):m()},g=()=>{i[e.currentActivePlaylistId].findIndex(s=>s.snippet.resourceId.videoId===e.currentSong)===i[e.currentActivePlaylistId].length-1?(console.log("Playlist Ended"),t(!1)):m()},w=()=>{t(!0)},P=()=>{t(!1)},I=()=>{t(!0)};return r(he,{w:"100%",h:["100%"],passive:"true",_before:{pb:"0"},ratio:1,className:"player",children:r(ke,{passive:"true",onError:()=>g(),onPlay:()=>w(),onPause:()=>P(),onReady:()=>I(),onEnded:()=>l(),width:"100%",height:"100%",controls:!0,loop:e.isLoopActive,playing:e.isPlaying,url:`https://www.youtube.com/watch?v=${e.currentSong}`})})},yt=e=>({isPlaying:t=>e({type:O,payload:t}),previousSong:t=>e({type:$,payload:t}),currentSong:t=>e({type:C,payload:t}),nextSong:t=>e({type:D,payload:t})}),gt=e=>({songs:e.songs,player:e.player,playlistSongsById:e.playlistSongsById}),Pt=T(gt,yt)(vt),At=({isPlaying:e,player:t,isLoopActive:o,isShuffleActive:d,currentSong:n,previousSong:i,nextSong:m,playlistSongsById:l})=>{const[g,w]=v.useState("");Q();const P=v.useRef(null);return v.useEffect(()=>{const I=l[t.currentActivePlaylistId].findIndex(s=>s.snippet.resourceId.videoId===t.currentSong);w(l[t.currentActivePlaylistId][I].snippet.title)},[t.currentSong]),v.useEffect(()=>{const I=c=>{var u,p,a,x,f,E;switch(c.code){case"Space":{e(t.isPlaying!==!0);break}case"KeyR":{o(t.isLoopActive!==!0);break}case"KeyS":{d(t.isShuffleActive!==!0);break}case"ArrowLeft":{const L=l[t.currentActivePlaylistId].findIndex(S=>S.snippet.resourceId.videoId===t.currentSong);L!==0&&(i((u=l[t.currentActivePlaylistId][L-2])==null?void 0:u.snippet.resourceId.videoId),m((p=l[t.currentActivePlaylistId][L])==null?void 0:p.snippet.resourceId.videoId),n((a=l[t.currentActivePlaylistId][L-1])==null?void 0:a.snippet.resourceId.videoId));break}case"ArrowRight":{const L=l[t.currentActivePlaylistId].findIndex(S=>{var N;return((N=S.snippet)==null?void 0:N.resourceId.videoId)===t.currentSong});L<l[t.currentActivePlaylistId].length-1?(i((x=l[t.currentActivePlaylistId][L])==null?void 0:x.snippet.resourceId.videoId),n((f=l[t.currentActivePlaylistId][L+1])==null?void 0:f.snippet.resourceId.videoId),m((E=l[t.currentActivePlaylistId][L+2])==null?void 0:E.snippet.resourceId.videoId)):L===l[t.currentActivePlaylistId].length-1&&console.log("No more songs left");break}}},s=P.current;return s.addEventListener("keydown",I,{passive:!0}),()=>{s.removeEventListener("keydown",I,{passive:!0})}},[t]),h(V,{ref:P,passive:"true",tabIndex:0,className:"container",w:"100%",h:"100vh",maxWidth:"1866px",children:[r(re,{title:`${g} - Playlist Shuffle`}),r(mt,{}),r(A,{justify:["center","center","left","left"],mb:"1.5",children:r(ht,{})}),h(y,{className:"box",w:["98%","98%","98%","95%"],m:"0 auto",display:"flex",justifyContent:"center",children:[h(A,{className:"mainContent",h:["100%","100%","65vh","65vh","65vh","65vh"],maxH:"1900px",flexDirection:["column","column","row"],alignItems:["center","center","center","inherit"],w:"100%",children:[r(y,{w:["100%","100%","40%","40%"],h:["30vh","30vh","100%","100%"],maxH:"1900px",children:r(Pt,{})}),r(y,{mt:["10px","10px","0","0"],w:["100%","100%","100%","50%"],h:["100%","100%","100%","100%"],maxH:"1900px",children:r(st,{})})]}),h(y,{className:"bottomMedia",minW:"100%",position:"fixed",bottom:"0",h:["18%","14%"],left:"0",bg:"red.100",display:"flex",pt:["1","1","5"],pb:[null,null,"2"],flexDirection:["column","column","row","row"],justifyContent:["center"],children:[r(A,{justify:"center",children:r(dt,{})}),r(A,{justify:"center",alignItems:"center",className:"mediaButtonsContainer",children:r(lt,{})})]})]})]})},St=e=>({isPlaying:t=>e({type:O,payload:t}),isLoopActive:t=>e({type:K,payload:t}),isShuffleActive:t=>e({type:M,payload:t}),previousSong:t=>e({type:$,payload:t}),currentSong:t=>e({type:C,payload:t}),nextSong:t=>e({type:D,payload:t})}),xt=e=>({songs:e.songs,player:e.player,playlistSongsById:e.playlistSongsById}),Lt=T(xt,St)(At);function wt(){return r(ve,{children:h(xe,{children:[r(U,{exact:!0,path:"/",element:r(Ze,{})}),r(U,{exact:!0,path:"playlist/:id",element:r(Lt,{})}),r(U,{path:"/*",element:r(V,{children:r(A,{justify:"center",children:r(k,{children:"Error 404"})})})})]})})}const Et={isPlaying:!0,previousSong:"",currentSong:"",nextSong:"",isShuffleActive:!1,isLoopActive:!1,currentActivePlaylistId:""};function Tt(e=Et,t){switch(t.type){case O:return{...e,isPlaying:t.payload};case K:return{...e,isLoopActive:t.payload};case M:return{...e,isShuffleActive:t.payload};case $:return{...e,previousSong:t.payload};case C:return{...e,currentSong:t.payload};case D:return{...e,nextSong:t.payload};case _:return{...e,currentActivePlaylistId:t.payload};default:return e}}const bt=[];function Ct(e=bt,t){switch(t.type){case"playlistDetails/add":return t.payload;case W:return e.filter(o=>o.playlistId===t.payload.playlistId).length?e:[...e,t.payload];case X:return e.filter(o=>o.playlistId!==t.payload);case B:return e.map(o=>o.playlistId===t.payload.playlistId?{...o,playlistEtag:t.payload.etag}:o);default:return e}}const Dt={};function Nt(e=Dt,t){switch(t.type){case F:return{...e,[t.payload.id]:t.payload.songs};case ee:{const o=Fe.cloneDeep(e);return delete o[t.payload],o}default:return e}}const Rt="HASPLAYLISTLOADED/HASPLAYLISTLOADED",kt={hasPlaylistLoaded:!1};function Ot(e=kt,t){switch(t.type){case Rt:return t.payload;default:return e}}const $t=$e({playlistSongsById:Nt,player:Tt,playlistDetails:Ct,hasplaylistloaded:Ot}),zt={key:"root",storage:He},Yt=je(ze(Ge)),jt=Me(zt,$t),se=Ye(jt,void 0,Yt),Ft=_e(se),Mt={initialColorMode:"light",useSystemColorMode:!1};ye({config:Mt});Ae.createRoot(document.getElementById("root")).render(r(we,{children:r(Oe,{basename:"/playlistShuffle",children:r(ge,{children:r(Se,{store:se,children:r(Ue,{loading:null,persistor:Ft,children:r(wt,{})})})})})}));
