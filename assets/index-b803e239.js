import{j as h,C as V,F as S,a as r,I as U,H as R,T as Y,S as ae,b as ce,c as de,d as ue,B as pe,e as me,f as Ie,g as B,h as P,i as fe,U as he,k as D,A as ye,l as ve,m as Pe,n as ge}from"./@chakra-ui-7aaa1343.js";import{r as v,R as Ae}from"./react-c64dbe91.js";import{c as Se}from"./react-dom-c53c899c.js";import{c as E,P as xe}from"./react-redux-1333c110.js";import{a as Q}from"./axios-aba6f0e0.js";import{u as j,a as X,b as Le,c as G}from"./react-router-e4f3dcd9.js";import{W as we,q as be}from"./react-helmet-async-50dd111f.js";import{m as Ee}from"./mersenne-twister-da726c1b.js";import{T as Te,a as De,B as Ce,b as Ne,c as Re,d as ke,e as J}from"./react-icons-a2d551ba.js";import{R as Oe}from"./react-player-3e647563.js";import{B as $e}from"./react-router-dom-9256e78e.js";import{a as ze,b as Ye,l as Ue}from"./redux-f29a9c13.js";import{c as je}from"./redux-devtools-extension-a2dfdb94.js";import{l as Fe}from"./lodash-a0493938.js";import{p as Me,a as _e,d as He,P as Ge}from"./redux-persist-69f87f47.js";import{t as Ve}from"./redux-thunk-ef899f4c.js";import"./hoist-non-react-statics-dd442a32.js";import"./react-is-d0c61868.js";import"./lodash.mergewith-05537c4f.js";import"./copy-to-clipboard-87174ba5.js";import"./@emotion-900dbcce.js";import"./@babel-5b6df6e6.js";import"./stylis-581c9ed0.js";import"./color2k-69f3754e.js";import"./framer-motion-e1e0f137.js";import"./react-fast-compare-b6572a53.js";import"./scheduler-04ce0582.js";import"./use-sync-external-store-ba804a53.js";import"./history-6218fa6a.js";import"./prop-types-4d501b15.js";import"./invariant-c4c304c3.js";import"./shallowequal-6a8ebf1c.js";import"./deepmerge-89e33937.js";import"./memoize-one-b182cc03.js";import"./load-script-d550e3b0.js";(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))c(o);new MutationObserver(o=>{for(const i of o)if(i.type==="childList")for(const m of i.addedNodes)m.tagName==="LINK"&&m.rel==="modulepreload"&&c(m)}).observe(document,{childList:!0,subtree:!0});function n(o){const i={};return o.integrity&&(i.integrity=o.integrity),o.referrerPolicy&&(i.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?i.credentials="include":o.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function c(o){if(o.ep)return;o.ep=!0;const i=n(o);fetch(o.href,i)}})();const W="playlistDetails/addToPlaylistDetails",Z="playlistDetails/deleteFromPlaylistDetails",K="playlistDetails/Etag",ee=async(e,t)=>{let n=[];const c="https://www.googleapis.com/youtube/v3",o="AIzaSyA8JtiLpC8D9nhMK44CRTciv64H1MNFNDw";let i="";try{let l="";do{const y=await Q.get(`${c}/playlistItems`,{headers:{"If-None-Match":t},params:{part:"snippet",maxResults:50,key:o,pageToken:l,playlistId:e,fields:"etag,nextPageToken,items(snippet(title,videoOwnerChannelTitle,position, thumbnails(default(url)), resourceId(videoId))),pageInfo"}});n.push(...y.data.items),i===""&&(i=y.data.etag),y.data.nextPageToken?l=y.data.nextPageToken:l=""}while(l)}catch(l){return l.response.status===304||l.response.status===404?l.response.status:l.response.status===500?(console.log("Server Error"),404):(console.log("Error ",l.response),404)}return{playlistEtag:i,responseArrToAdd:n,currentSong:n[0].snippet.resourceId.videoId,nextSong:n[1].snippet.resourceId.videoId}},F="playlistSongs/addSongsByPlaylistID",te="playlistSongs/removePlaylistSongsById",O="player/isPlaying",q="player/isLoopActive",M="player/isShuffleActive",$="player/previousSong",C="player/currentSong",N="player/nextSong",_="player/setcurrentActivePlaylistId",re=async(e,t)=>{const n="https://www.googleapis.com/youtube/v3",c="AIzaSyA8JtiLpC8D9nhMK44CRTciv64H1MNFNDw";let o={};try{const i=await Q.get(`${n}/playlists`,{params:{part:"snippet",id:e,key:c}});o={playlistName:i.data.items[0].snippet.title,playlistId:i.data.items[0].id,PlaylistImage:i.data.items[0].snippet.thumbnails.medium.url,playlistEtag:t}}catch(i){return i.response.status===304||i.response.status===404?i.response.status:i.response.status===500?(console.log("Server Error"),404):(console.log("Error ",i.response),404)}return o},Be=v.memo(({playlistDetails:e,addToPlaylistDetails:t,nextSong:n,playlistSongsById:c,player:o,isPlaying:i,deleteFromPlaylistDetails:m,addSongsByPlaylistID:l,setcurrentActivePlaylistId:y,removePlaylistSongsById:b,currentSong:x,modifyEtagInPlaylistDetailsById:g})=>{const s=j(),a="/playlistShuffle",p=e.map(d=>h(V,{w:"100%",mt:2,display:"flex",flexDirection:"row",bg:"red.500",borderRadius:"lg",cursor:"pointer",m:"16 0",className:"playlistUsedList",children:[h(S,{className:"usedContentTextandImage",onClick:()=>u(d.playlistId),children:[r(U,{borderRadius:"5% 0 0 5%",alt:d.playlistName,boxSize:["75px","85px","120px"],objectFit:"cover",className:"imgUsedPlaylist",src:d.PlaylistImage}),r(R,{mt:"1.5",size:["md","md","lg"],noOfLines:"2",className:"usedPlaylistName",children:r(Y,{color:"whiteAlpha.900",noOfLines:[2,2],children:d.playlistName})})]}),r(ae,{}),r(ce,{ml:["5px","5px","15px","15px"],colorScheme:"whiteAlpha",color:"white",className:"playlistUsedButton",onClick:()=>f(d.playlistId)})]},d.playlistId)),u=async d=>{await y(d);const L=e.filter(A=>A.playlistId===d),I=await ee(d,L[0].playlistEtag);if(I===304)await x(c[L[0].playlistId][0].snippet.resourceId.videoId),await n(c[L[0].playlistId][1].snippet.resourceId.videoId),i(!0);else{const A={id:d,songs:I.responseArrToAdd},k=await re(d,I.playlistEtag),w={playlistId:d,etag:I.playlistEtag};await t(k),await g(w),l(A),x(I.currentSong),n(I.nextSong)}s(`${a}/playlist/${d}`)},f=d=>{b(d),m(d)};return r(S,{flexDirection:"column",className:"playlistUsedContainer",children:e.length?p:null})}),We=e=>({playlistSongsById:e.playlistSongsById,songs:e.songs,player:e.player,playlistDetails:e.playlistDetails}),Ke=e=>({currentSong:t=>e({type:C,payload:t}),nextSong:t=>e({type:N,payload:t}),addToPlaylistDetails:t=>e({type:W,payload:t}),deleteFromPlaylistDetails:t=>e({type:Z,payload:t}),addSongsByPlaylistID:t=>e({type:F,payload:t}),setcurrentActivePlaylistId:t=>e({type:_,payload:t}),removePlaylistSongsById:t=>e({type:te,payload:t}),modifyEtagInPlaylistDetailsById:t=>e({type:K,payload:t}),isPlaying:t=>e({type:O,payload:t})}),qe=E(We,Ke)(Be),Je=({playlistDetails:e,currentSong:t,nextSong:n,addToPlaylistDetails:c,addSongsByPlaylistID:o,playlistSongsById:i,setcurrentActivePlaylistId:m,player:l,modifyEtagInPlaylistDetailsById:y})=>{const[b,x]=v.useState(""),[g,s]=v.useState(!1),[a,p]=v.useState(!1),u=j(),f="/playlistShuffle",d=async I=>{I.preventDefault(),s(!0);const A=/PL(.*)/,w="PL"+b.match(A)[1],z=e.filter(H=>H.playlistId===w);m(w);const ne=z.length>0?z[0].playlistEtag:"",T=await ee(w,ne);if(T===304)t(i[z[0].playlistId][0].snippet.resourceId.videoId),n(i[z[0].playlistId][1].snippet.resourceId.videoId),s(!1),u(`${f}/playlist/${w}`);else if(T===404)console.log("data is ",T),p(!0),s(!1);else{const H={id:w,songs:T.responseArrToAdd},oe=await re(w,T.playlistEtag),le={playlistId:w,etag:T.playlistEtag};await c(oe),await y(le),s(!1),await o(H),await t(T.currentSong),await n(T.nextSong),u(`${f}/playlist/${w}`)}},L=I=>{I.preventDefault(),x(I.target.value)};return r(S,{mt:"20",className:"searchContainer",children:r("form",{style:{width:"100%"},onSubmit:I=>d(I),children:h(de,{isInvalid:a,children:[h(S,{children:[r(ue,{errorBorderColor:"red.500",variant:"outline",size:"lg",className:"inputSearch",pattern:"^(?=.*.{24,})(?=.*PL).*",type:"text",required:!0,onChange:I=>L(I),value:b}),r(pe,{isLoading:!!g,colorScheme:"red",ml:"1.5",size:"lg",className:"submitBtn",type:"submit",children:"Play"})]}),a?r(me,{children:"THE ID OR URL IS NOT A VALID ONE "}):r(Ie,{children:"ID or playlist URL"})]})})})},Qe=e=>({playlistSongsById:e.playlistSongsById,playlistDetails:e.playlistDetails,player:e.player}),Xe=e=>({currentSong:t=>e({type:C,payload:t}),nextSong:t=>e({type:N,payload:t}),addToPlaylistDetails:t=>e({type:W,payload:t}),addSongsByPlaylistID:t=>e({type:F,payload:t}),setcurrentActivePlaylistId:t=>e({type:_,payload:t}),modifyEtagInPlaylistDetailsById:t=>e({type:K,payload:t})}),Ze=E(Qe,Xe)(Je),se=({title:e})=>r(we,{children:r("title",{children:e})}),et=()=>{const e="/playlistShuffle",t=j();return h(B,{h:"calc(100vh)",w:"100%",maxWidth:"2266px",bg:"whiteAlpha.900",children:[r(se,{title:"Paylist Shuffle | randomize your playlist"}),h(P,{w:"85%",m:"0 auto",children:[h(R,{onClick:()=>t(e),cursor:"pointer",color:"black",className:"title",children:[" ",r(fe,{children:"Playlist Shuffle"})]}),r(P,{children:r(Ze,{})}),r(P,{children:r(qe,{})})]})]})},tt=v.memo(({player:e,previousSong:t,currentSong:n,nextSong:c,playlistSongsById:o,addSongsByPlaylistID:i})=>{var x,g;const m=(x=o[e.currentActivePlaylistId])==null?void 0:x.reduce((s,a)=>(s[a.snippet.resourceId.videoId]=Ae.createRef(),s),{});v.useEffect(()=>{m[e.currentSong].current.scrollIntoView({block:"start"})},[e.currentSong]),v.useEffect(()=>{l()},[e.isShuffleActive]);const l=()=>{if(e.isShuffleActive===!0){const s=new Ee;let a=[];a.push(...o[e.currentActivePlaylistId]);for(let u=a.length-1;u>0;u--){const f=Math.floor(s.random()*(u+1));[a[u],a[f]]=[a[f],a[u]]}const p={id:e.currentActivePlaylistId,songs:a};i(p),n(a[0].snippet.resourceId.videoId),c(a[1].snippet.resourceId.videoId)}else{let s=[];s.push(...o[e.currentActivePlaylistId]),s.sort(function(p,u){return p.snippet.position-u.snippet.position});const a={id:e.currentActivePlaylistId,songs:s};i(a),n(s[0].snippet.resourceId.videoId),c(s[1].snippet.resourceId.videoId)}},y=s=>{var p,u,f;const a=o[e.currentActivePlaylistId].findIndex(d=>{var L;return((L=d.snippet)==null?void 0:L.resourceId.videoId)===s});t((p=o[e.currentActivePlaylistId][a-1])==null?void 0:p.snippet.resourceId.videoId),n((u=o[e.currentActivePlaylistId][a])==null?void 0:u.snippet.resourceId.videoId),c((f=o[e.currentActivePlaylistId][a+1])==null?void 0:f.snippet.resourceId.videoId)},b=(g=o[e.currentActivePlaylistId])==null?void 0:g.map((s,a)=>{var p;return s.snippet.title!=="Private video"&&s.snippet.title!=="Deleted video"?r(V,{borderRadius:"lg",w:["95%","90%"],cursor:"pointer",title:s.snippet.title,m:"2",ref:m[s.snippet.resourceId.videoId],id:`${s.snippet.resourceId.videoId}`,onClick:()=>y(s.snippet.resourceId.videoId),children:r(V,{borderRadius:"lg",bg:e.currentSong===s.snippet.resourceId.videoId?"var(--chakra-colors-red-600)":null,color:e.currentSong===s.snippet.resourceId.videoId?"white":"",_hover:{background:"var(--chakra-colors-red-600)",color:"white"},children:h(S,{children:[r(U,{borderRadius:"lg",src:(p=s.snippet.thumbnails.default)==null?void 0:p.url,alt:"song image",boxSize:["40px","40px","65px"],objectFit:"none"}),h(P,{ml:"1",className:"cardText",children:[r(R,{size:["xs","xs","sm","md"],children:r(Y,{noOfLines:[1,1,2,2],children:s.snippet.title})}),h(Y,{noOfLines:"1",className:"cardArtist",children:[" ",s.snippet.videoOwnerChannelTitle]})]})]})})},s.snippet.resourceId.videoId+"index"+a):null});return r(P,{passive:"true",className:"cardContainer",mt:["0","4","0","0","0"],overflowY:"scroll",h:["37vh","37vh","100%","95%","100%"],children:r(he,{h:"100%",pt:"1",w:["95%","95%","95%",null,"100%"],margin:["0 auto","0 auto","0 auto",null],className:"ulListCards",children:b})})}),rt=e=>({previousSong:t=>e({type:$,payload:t}),currentSong:t=>e({type:C,payload:t}),nextSong:t=>e({type:N,payload:t}),addSongsByPlaylistID:t=>e({type:F,payload:t})}),st=e=>({playlistSongsById:e.playlistSongsById,songs:e.songs,player:e.player}),it=E(st,rt)(tt),nt=v.memo(({player:e,isPlaying:t,isLoopActive:n,isShuffleActive:c,previousSong:o,currentSong:i,nextSong:m,playlistSongsById:l})=>{const y=s=>{t(s)},b=()=>{var a,p,u;const s=l[e.currentActivePlaylistId].findIndex(f=>f.snippet.resourceId.videoId===e.currentSong);s!==0&&(o((a=l[e.currentActivePlaylistId][s-2])==null?void 0:a.snippet.resourceId.videoId),i((p=l[e.currentActivePlaylistId][s-1])==null?void 0:p.snippet.resourceId.videoId),m((u=l[e.currentActivePlaylistId][s])==null?void 0:u.snippet.resourceId.videoId))},x=()=>{var a,p,u;const s=l[e.currentActivePlaylistId].findIndex(f=>{var d;return((d=f.snippet)==null?void 0:d.resourceId.videoId)===e.currentSong});s<l[e.currentActivePlaylistId].length-1?(o((a=l[e.currentActivePlaylistId][s])==null?void 0:a.snippet.resourceId.videoId),i((p=l[e.currentActivePlaylistId][s+1])==null?void 0:p.snippet.resourceId.videoId),m((u=l[e.currentActivePlaylistId][s+2])==null?void 0:u.snippet.resourceId.videoId)):s===l[e.currentActivePlaylistId].length-1&&console.log("No more songs left")},g=()=>{e.isShuffleActive===!1?c(!0):c(!1)};return h(S,{flexDirection:"row",alignItems:"baseline",className:"mediaButtons ",maxW:"100%",children:[e.isLoopActive===!0?r(P,{passive:"true",onClick:()=>n(!1),children:r(D,{colorScheme:"red",size:"2rem",ml:"1.5",mr:"1.5",icon:r(Te,{size:45})})}):r(P,{children:r(D,{colorScheme:"red",size:"2rem",ml:"1.5",passive:"true",onClick:()=>n(!0),mr:"1.5",icon:r(De,{size:45})})}),r(P,{children:r(D,{passive:"true",onClick:b,colorScheme:"red",size:"1.5rem",ml:"1.5",mr:"1.5",icon:r(Ce,{size:45})})}),e.isPlaying===!0?r(P,{children:r(D,{passive:"true",colorScheme:"red",size:"2rem",ml:"1.5",mr:"1.5",onClick:()=>y(!1),icon:r(Ne,{size:55})})}):r(P,{children:r(D,{colorScheme:"red",size:"2rem",ml:"1.5",passive:"true",mr:"1.5",onClick:()=>y(!0),icon:r(Re,{size:55})})}),r(P,{children:r(D,{onClick:x,colorScheme:"red",size:"1.5rem",passive:"true",ml:"1.5",mr:"1.5",icon:r(ke,{size:45})})}),e.isShuffleActive?r(P,{children:r(D,{onClick:g,bg:"red.800",color:"white",size:"1.5rem",passive:"true",ml:"1.5",mr:"1.5",_hover:{background:"var(--chakra-colors-red-600)",color:"white"},icon:r(J,{size:45})})}):r(P,{children:r(D,{onClick:g,colorScheme:"red",size:"1.5rem",passive:"true",ml:"1.5",mr:"1.5",icon:r(J,{size:45})})})]})}),ot=e=>({player:e.player,songs:e.songs,playlistSongsById:e.playlistSongsById}),lt=e=>({isPlaying:t=>e({type:O,payload:t}),isLoopActive:t=>e({type:q,payload:t}),isShuffleActive:t=>e({type:M,payload:t}),previousSong:t=>e({type:$,payload:t}),currentSong:t=>e({type:C,payload:t}),nextSong:t=>e({type:N,payload:t})}),at=E(ot,lt)(nt),ct=({player:e,isPlaying:t,previousSong:n,currentSong:c,nextSong:o,playlistSongsById:i})=>{v.useEffect(()=>{var s;i[e.currentActivePlaylistId]&&c((s=i[e.currentActivePlaylistId][0])==null?void 0:s.snippet.resourceId.videoId)},[]);const m=()=>{var a,p,u,f,d;const s=i[e.currentActivePlaylistId].findIndex(L=>{var I;return((I=L.snippet)==null?void 0:I.resourceId.videoId)===e.currentSong});s<i[e.currentActivePlaylistId].length-1?(n((a=i[e.currentActivePlaylistId][s])==null?void 0:a.snippet.resourceId.videoId),c((p=i[e.currentActivePlaylistId][s+1])==null?void 0:p.snippet.resourceId.videoId),o((u=i[e.currentActivePlaylistId][s+2])==null?void 0:u.snippet.resourceId.videoId)):(n((f=i[e.currentActivePlaylistId][s])==null?void 0:f.snippet.resourceId.videoId),c((d=i[e.currentActivePlaylistId][s+1])==null?void 0:d.snippet.resourceId.videoId),o(""))},l=()=>{i[e.currentActivePlaylistId].findIndex(s=>s.snippet.resourceId.videoId===e.currentSong)===i[e.currentActivePlaylistId].length-1?(console.log("Playlist Ended"),t(!1)):m()},y=()=>{i[e.currentActivePlaylistId].findIndex(s=>s.snippet.resourceId.videoId===e.currentSong)===i[e.currentActivePlaylistId].length-1?(console.log("Playlist Ended"),t(!1)):m()},b=()=>{t(!0)},x=()=>{t(!1)},g=()=>{t(!0)};return r(ye,{w:"100%",h:["100%"],passive:"true",_before:{pb:"0"},ratio:1,className:"player",children:r(Oe,{passive:"true",onError:y,onPlay:()=>b(),onPause:()=>x(),onReady:()=>g,onEnded:l,width:"100%",height:"100%",controls:!0,loop:e.isLoopActive,playing:e.isPlaying,url:`https://www.youtube.com/watch?v=${e.currentSong}`})})},dt=e=>({isPlaying:t=>e({type:O,payload:t}),previousSong:t=>e({type:$,payload:t}),currentSong:t=>e({type:C,payload:t}),nextSong:t=>e({type:N,payload:t})}),ut=e=>({songs:e.songs,player:e.player,playlistSongsById:e.playlistSongsById}),pt=E(ut,dt)(ct),mt=v.memo(({player:e,playlistSongsById:t})=>{var c,o,i;const n=(c=t[e.currentActivePlaylistId])==null?void 0:c.findIndex(m=>m.snippet.resourceId.videoId===e.currentSong);return h(S,{mt:"1",alignItems:"center",children:[r(U,{boxSize:["35px","35px","45px","75px, 100px"],objectFit:"none",borderRadius:"lg",alt:(o=t[e.currentActivePlaylistId][n])==null?void 0:o.snippet.title,src:(i=t[e.currentActivePlaylistId][n])==null?void 0:i.snippet.thumbnails.default.url}),r(S,{children:r(R,{ml:"1",textAlign:"center",width:"100%",color:"var(--chakra-colors-red-600)",className:"songTitle",size:["sm","sm","md","md","md","md"],maxW:["60","60","60","60","60"],children:r(Y,{noOfLines:["1","1","2","2"],children:t[e.currentActivePlaylistId][n].snippet.title})})})]})}),It=e=>({playlistSongsById:e.playlistSongsById,songs:e.songs,player:e.player}),ft=E(It,null)(mt),ht=({isPlaying:e,previousSong:t,currentSong:n,nextSong:c,isShuffleActive:o,setcurrentActivePlaylistId:i})=>{const m="/playlistShuffle",l=j();return r(S,{className:"navbar",children:h(R,{cursor:"pointer",onClick:()=>(e(!0),t(""),n(""),c(""),o(!1),i(""),l(m)),m:"0 auto",color:"black",children:["Playlist Shuffle"," "]})})},yt=e=>({isPlaying:t=>e({type:O,payload:t}),previousSong:t=>e({type:$,payload:t}),currentSong:t=>e({type:C,payload:t}),nextSong:t=>e({type:N,payload:t}),isShuffleActive:t=>e({type:M,payload:t}),setcurrentActivePlaylistId:t=>e({type:_,payload:t})}),vt=E(null,yt)(ht),Pt=({playlistDetails:e})=>{const{id:t}=X(),[n,c]=v.useState({name:"",image:""});return v.useEffect(()=>{const o=e==null?void 0:e.find(i=>i.playlistId===t);c({name:o.playlistName,image:o.PlaylistImage})},[]),h(S,{alignItems:"center",children:[r(U,{boxSize:["35px","40px","45px","60px"],objectFit:"cover",borderRadius:"lg",src:n.image,alt:n.name}),r(R,{ml:"1",noOfLines:["1","1","2","2"],size:["sm","sm","md","md"],children:n.name})]})},gt=e=>({songs:e.songs,player:e.player,playlistDetails:e.playlistDetails}),At=E(gt,null)(v.memo(Pt)),St=v.memo(({isPlaying:e,player:t,isLoopActive:n,isShuffleActive:c,currentSong:o,previousSong:i,nextSong:m,playlistSongsById:l})=>{const[y,b]=v.useState("");X();const x=v.useRef(null);return v.useEffect(()=>{const g=l[t.currentActivePlaylistId].findIndex(s=>s.snippet.resourceId.videoId===t.currentSong);b(l[t.currentActivePlaylistId][g].snippet.title)},[t.currentSong]),v.useEffect(()=>{const g=a=>{var p,u,f,d,L,I;switch(a.code){case"Space":{e(t.isPlaying!==!0);break}case"KeyR":{n(t.isLoopActive!==!0);break}case"KeyS":{c(t.isShuffleActive!==!0);break}case"ArrowLeft":{const A=l[t.currentActivePlaylistId].findIndex(k=>k.snippet.resourceId.videoId===t.currentSong);A!==0&&(i((p=l[t.currentActivePlaylistId][A-2])==null?void 0:p.snippet.resourceId.videoId),m((u=l[t.currentActivePlaylistId][A])==null?void 0:u.snippet.resourceId.videoId),o((f=l[t.currentActivePlaylistId][A-1])==null?void 0:f.snippet.resourceId.videoId));break}case"ArrowRight":{const A=l[t.currentActivePlaylistId].findIndex(k=>{var w;return((w=k.snippet)==null?void 0:w.resourceId.videoId)===t.currentSong});A<l[t.currentActivePlaylistId].length-1?(i((d=l[t.currentActivePlaylistId][A])==null?void 0:d.snippet.resourceId.videoId),o((L=l[t.currentActivePlaylistId][A+1])==null?void 0:L.snippet.resourceId.videoId),m((I=l[t.currentActivePlaylistId][A+2])==null?void 0:I.snippet.resourceId.videoId)):A===l[t.currentActivePlaylistId].length-1&&console.log("No more songs left");break}}},s=x.current;return s.addEventListener("keydown",g,{passive:!0}),()=>{s.removeEventListener("keydown",g,{passive:!0})}},[t]),h(B,{ref:x,passive:"true",tabIndex:0,className:"container",w:"100%",h:"100vh",maxWidth:"1866px",children:[r(se,{title:`${y} - Playlist Shuffle`}),r(vt,{}),r(S,{justify:["center","center","left","left"],mb:"1.5",children:r(At,{})}),h(P,{className:"box",w:["98%","98%","98%","95%"],m:"0 auto",display:"flex",justifyContent:"center",children:[h(S,{className:"mainContent",h:["100%","100%","65vh","65vh","65vh","65vh"],maxH:"1900px",flexDirection:["column","column","row"],alignItems:["center","center","center","inherit"],w:"100%",children:[r(P,{w:["100%","100%","40%","40%"],h:["30vh","30vh","100%","100%"],maxH:"1900px",children:r(pt,{})}),r(P,{mt:["10px","10px","0","0"],w:["100%","100%","100%","50%"],h:["100%","100%","100%","100%"],maxH:"1900px",children:r(it,{})})]}),h(P,{className:"bottomMedia",minW:"100%",position:"fixed",bottom:"0",h:["18%","14%"],left:"0",bg:"red.100",display:"flex",pt:["1","1","5"],pb:[null,null,"2"],flexDirection:["column","column","row","row"],justifyContent:["center"],children:[r(S,{justify:"center",children:r(ft,{})}),r(S,{justify:"center",alignItems:"center",className:"mediaButtonsContainer",children:r(at,{})})]})]})]})}),xt=e=>({isPlaying:t=>e({type:O,payload:t}),isLoopActive:t=>e({type:q,payload:t}),isShuffleActive:t=>e({type:M,payload:t}),previousSong:t=>e({type:$,payload:t}),currentSong:t=>e({type:C,payload:t}),nextSong:t=>e({type:N,payload:t})}),Lt=e=>({songs:e.songs,player:e.player,playlistSongsById:e.playlistSongsById}),wt=E(Lt,xt)(St);function bt(){const e="/playlistShuffle";return r(ve,{children:h(Le,{children:[r(G,{exact:!0,path:`${e}`,element:r(et,{})}),r(G,{exact:!0,path:`${e}/playlist/:id`,element:r(wt,{})}),r(G,{path:`${e}/*`,element:r(B,{children:r(S,{justify:"center",children:r(R,{children:"Error 404"})})})})]})})}const Et={isPlaying:!0,previousSong:"",currentSong:"",nextSong:"",isShuffleActive:!1,isLoopActive:!1,currentActivePlaylistId:""};function Tt(e=Et,t){switch(t.type){case O:return{...e,isPlaying:t.payload};case q:return{...e,isLoopActive:t.payload};case M:return{...e,isShuffleActive:t.payload};case $:return{...e,previousSong:t.payload};case C:return{...e,currentSong:t.payload};case N:return{...e,nextSong:t.payload};case _:return{...e,currentActivePlaylistId:t.payload};default:return e}}const Dt=[];function Ct(e=Dt,t){switch(t.type){case"playlistDetails/add":return t.payload;case W:return e.filter(n=>n.playlistId===t.payload.playlistId).length?e:[...e,t.payload];case Z:return e.filter(n=>n.playlistId!==t.payload);case K:return e.map(n=>n.playlistId===t.payload.playlistId?{...n,playlistEtag:t.payload.etag}:n);default:return e}}const Nt={};function Rt(e=Nt,t){switch(t.type){case F:return{...e,[t.payload.id]:t.payload.songs};case te:{const n=Fe.cloneDeep(e);return delete n[t.payload],n}default:return e}}const kt="HASPLAYLISTLOADED/HASPLAYLISTLOADED",Ot={hasPlaylistLoaded:!1};function $t(e=Ot,t){switch(t.type){case kt:return t.payload;default:return e}}const zt=ze({playlistSongsById:Rt,player:Tt,playlistDetails:Ct,hasplaylistloaded:$t}),Yt={key:"root",storage:He},Ut=je(Ye(Ve)),jt=Me(Yt,zt),ie=Ue(jt,void 0,Ut),Ft=_e(ie),Mt={initialColorMode:"light",useSystemColorMode:!1};Pe({config:Mt});Se.createRoot(document.getElementById("root")).render(r(be,{children:r($e,{children:r(ge,{children:r(xe,{store:ie,children:r(Ge,{loading:null,persistor:Ft,children:r(bt,{})})})})})}));
